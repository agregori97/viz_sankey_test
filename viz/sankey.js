!function(t,n){"object"==typeof exports&&"object"==typeof module?module.exports=n():"function"==typeof define&&define.amd?define([],n):"object"==typeof exports?exports.sankey=n():t.sankey=n()}(window,(function(){return function(t){var n={};function e(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,e),i.l=!0,i.exports}return e.m=t,e.c=n,e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:r})},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,n){if(1&n&&(t=e(t)),8&n)return t;if(4&n&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(e.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var i in t)e.d(r,i,function(n){return t[n]}.bind(null,i));return r},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},e.p="",e(e.s=19)}({11:function(t,n,e){var r={};!function(t){function n(t){for(var n="",e=t.length-1;e>=0;)n+=t.charAt(e--);return n}function e(t,n){for(var e="";e.length<n;)e+=t;return e}function r(t,n){var r=""+t;return r.length>=n?r:e("0",n-r.length)+r}function i(t,n){var r=""+t;return r.length>=n?r:e(" ",n-r.length)+r}function o(t,n){var r=""+t;return r.length>=n?r:r+e(" ",n-r.length)}t.version="0.11.2";var u=Math.pow(2,32);function a(t,n){return t>u||t<-u?function(t,n){var r=""+Math.round(t);return r.length>=n?r:e("0",n-r.length)+r}(t,n):function(t,n){var r=""+t;return r.length>=n?r:e("0",n-r.length)+r}(Math.round(t),n)}function c(t,n){return n=n||0,t.length>=7+n&&103==(32|t.charCodeAt(n))&&101==(32|t.charCodeAt(n+1))&&110==(32|t.charCodeAt(n+2))&&101==(32|t.charCodeAt(n+3))&&114==(32|t.charCodeAt(n+4))&&97==(32|t.charCodeAt(n+5))&&108==(32|t.charCodeAt(n+6))}var s=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],f=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function l(t){t[0]="General",t[1]="0",t[2]="0.00",t[3]="#,##0",t[4]="#,##0.00",t[9]="0%",t[10]="0.00%",t[11]="0.00E+00",t[12]="# ?/?",t[13]="# ??/??",t[14]="m/d/yy",t[15]="d-mmm-yy",t[16]="d-mmm",t[17]="mmm-yy",t[18]="h:mm AM/PM",t[19]="h:mm:ss AM/PM",t[20]="h:mm",t[21]="h:mm:ss",t[22]="m/d/yy h:mm",t[37]="#,##0 ;(#,##0)",t[38]="#,##0 ;[Red](#,##0)",t[39]="#,##0.00;(#,##0.00)",t[40]="#,##0.00;[Red](#,##0.00)",t[45]="mm:ss",t[46]="[h]:mm:ss",t[47]="mmss.0",t[48]="##0.0E+0",t[49]="@",t[56]='"上午/下午 "hh"時"mm"分"ss"秒 "'}var h={};l(h);var d=[],p=0;for(p=5;p<=8;++p)d[p]=32+p;for(p=23;p<=26;++p)d[p]=0;for(p=27;p<=31;++p)d[p]=14;for(p=50;p<=58;++p)d[p]=14;for(p=59;p<=62;++p)d[p]=p-58;for(p=67;p<=68;++p)d[p]=p-58;for(p=72;p<=75;++p)d[p]=p-58;for(p=67;p<=68;++p)d[p]=p-57;for(p=76;p<=78;++p)d[p]=p-56;for(p=79;p<=81;++p)d[p]=p-34;var g=[];function v(t,n,e){for(var r=t<0?-1:1,i=t*r,o=0,u=1,a=0,c=1,s=0,f=0,l=Math.floor(i);s<n&&(a=(l=Math.floor(i))*u+o,f=l*s+c,!(i-l<5e-8));)i=1/(i-l),o=u,u=a,c=s,s=f;if(f>n&&(s>n?(f=c,a=o):(f=s,a=u)),!e)return[0,r*a,f];var h=Math.floor(r*a/f);return[h,r*a-h*f,f]}function y(t,n,e){if(t>2958465||t<0)return null;var r=0|t,i=Math.floor(86400*(t-r)),o=0,u=[],a={D:r,T:i,u:86400*(t-r)-i,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(a.u)<1e-6&&(a.u=0),n&&n.date1904&&(r+=1462),a.u>.9999&&(a.u=0,86400==++i&&(a.T=i=0,++r,++a.D)),60===r)u=e?[1317,10,29]:[1900,2,29],o=3;else if(0===r)u=e?[1317,8,29]:[1900,1,0],o=6;else{r>60&&--r;var c=new Date(1900,0,1);c.setDate(c.getDate()+r-1),u=[c.getFullYear(),c.getMonth()+1,c.getDate()],o=c.getDay(),r<60&&(o=(o+6)%7),e&&(o=function(t,n){n[0]-=581;var e=t.getDay();return t<60&&(e=(e+6)%7),e}(c,u))}return a.y=u[0],a.m=u[1],a.d=u[2],a.S=i%60,i=Math.floor(i/60),a.M=i%60,i=Math.floor(i/60),a.H=i,a.q=o,a}g[5]=g[63]='"$"#,##0_);\\("$"#,##0\\)',g[6]=g[64]='"$"#,##0_);[Red]\\("$"#,##0\\)',g[7]=g[65]='"$"#,##0.00_);\\("$"#,##0.00\\)',g[8]=g[66]='"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',g[41]='_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',g[42]='_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',g[43]='_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',g[44]='_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)',t.parse_date_code=y;var _=new Date(1899,11,31,0,0,0),m=_.getTime(),w=new Date(1900,2,1,0,0,0);function x(t,n){var e=t.getTime();return n?e-=1262304e5:t>=w&&(e+=864e5),(e-(m+6e4*(t.getTimezoneOffset()-_.getTimezoneOffset())))/864e5}t._general_int=function(t){return t.toString(10)};var b=function(){var t=/(?:\.0*|(\.\d*[1-9])0+)$/;function n(n){return-1==n.indexOf(".")?n:n.replace(t,"$1")}var e=/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,r=/(E[+-])(\d)$/;return function(t){var i=Math.floor(Math.log(Math.abs(t))*Math.LOG10E);return n(function(t){return-1==t.indexOf("E")?t:t.replace(e,"$1E").replace(r,"$10$2")}((i>=-4&&i<=-1?t.toPrecision(10+i):Math.abs(i)<=9?function(t){var e=t<0?12:11,r=n(t.toFixed(12));return r.length<=e||(r=t.toPrecision(10)).length<=e?r:t.toExponential(5)}(t):10===i?t.toFixed(10).substr(0,12):function(t){var e=n(t.toFixed(11));return e.length>(t<0?12:11)||"0"===e||"-0"===e?t.toPrecision(6):e}(t)).toUpperCase()))}}();function M(t,n){switch(typeof t){case"string":return t;case"boolean":return t?"TRUE":"FALSE";case"number":return(0|t)===t?t.toString(10):b(t);case"undefined":return"";case"object":if(null==t)return"";if(t instanceof Date)return O(14,x(t,n&&n.date1904),n)}throw new Error("unsupported value in General format: "+t)}function k(t,n,e,i){var o,u="",a=0,c=0,l=e.y,h=0;switch(t){case 98:l=e.y+543;case 121:switch(n.length){case 1:case 2:o=l%100,h=2;break;default:o=l%1e4,h=4}break;case 109:switch(n.length){case 1:case 2:o=e.m,h=n.length;break;case 3:return f[e.m-1][1];case 5:return f[e.m-1][0];default:return f[e.m-1][2]}break;case 100:switch(n.length){case 1:case 2:o=e.d,h=n.length;break;case 3:return s[e.q][0];default:return s[e.q][1]}break;case 104:switch(n.length){case 1:case 2:o=1+(e.H+11)%12,h=n.length;break;default:throw"bad hour format: "+n}break;case 72:switch(n.length){case 1:case 2:o=e.H,h=n.length;break;default:throw"bad hour format: "+n}break;case 77:switch(n.length){case 1:case 2:o=e.M,h=n.length;break;default:throw"bad minute format: "+n}break;case 115:if("s"!=n&&"ss"!=n&&".0"!=n&&".00"!=n&&".000"!=n)throw"bad second format: "+n;return 0!==e.u||"s"!=n&&"ss"!=n?(c=i>=2?3===i?1e3:100:1===i?10:1,(a=Math.round(c*(e.S+e.u)))>=60*c&&(a=0),"s"===n?0===a?"0":""+a/c:(u=r(a,2+i),"ss"===n?u.substr(0,2):"."+u.substr(2,n.length-1))):r(e.S,n.length);case 90:switch(n){case"[h]":case"[hh]":o=24*e.D+e.H;break;case"[m]":case"[mm]":o=60*(24*e.D+e.H)+e.M;break;case"[s]":case"[ss]":o=60*(60*(24*e.D+e.H)+e.M)+Math.round(e.S+e.u);break;default:throw"bad abstime format: "+n}h=3===n.length?1:2;break;case 101:o=l,h=1}return h>0?r(o,h):""}function A(t){if(t.length<=3)return t;for(var n=t.length%3,e=t.substr(0,n);n!=t.length;n+=3)e+=(e.length>0?",":"")+t.substr(n,3);return e}t._general_num=b,t._general=M,"๐๑๒๓๔๕๖๗๘๙".split("");var N=function(){var t=/%/g,u=/# (\?+)( ?)\/( ?)(\d+)/,c=/^#*0*\.([0#]+)/,s=/\).*[0#]/,f=/\(###\) ###\\?-####/;function l(t){for(var n,e="",r=0;r!=t.length;++r)switch(n=t.charCodeAt(r)){case 35:break;case 63:e+=" ";break;case 48:e+="0";break;default:e+=String.fromCharCode(n)}return e}function h(t,n){var e=Math.pow(10,n);return""+Math.round(t*e)/e}function d(t,n){var e=t-Math.floor(t),r=Math.pow(10,n);return n<(""+Math.round(e*r)).length?0:Math.round(e*r)}function p(g,y,_){if(40===g.charCodeAt(0)&&!y.match(s)){var m=y.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return _>=0?p("n",m,_):"("+p("n",m,-_)+")"}if(44===y.charCodeAt(y.length-1))return function(t,n,e){for(var r=n.length-1;44===n.charCodeAt(r-1);)--r;return N(t,n.substr(0,r),e/Math.pow(10,3*(n.length-r)))}(g,y,_);if(-1!==y.indexOf("%"))return function(n,r,i){var o=r.replace(t,""),u=r.length-o.length;return N(n,o,i*Math.pow(10,2*u))+e("%",u)}(g,y,_);if(-1!==y.indexOf("E"))return function t(n,e){var r,i=n.indexOf("E")-n.indexOf(".")-1;if(n.match(/^#+0.0E\+0$/)){if(0==e)return"0.0E+0";if(e<0)return"-"+t(n,-e);var o=n.indexOf(".");-1===o&&(o=n.indexOf("E"));var u=Math.floor(Math.log(e)*Math.LOG10E)%o;if(u<0&&(u+=o),-1===(r=(e/Math.pow(10,u)).toPrecision(i+1+(o+u)%o)).indexOf("e")){var a=Math.floor(Math.log(e)*Math.LOG10E);for(-1===r.indexOf(".")?r=r.charAt(0)+"."+r.substr(1)+"E+"+(a-r.length+u):r+="E+"+(a-u);"0."===r.substr(0,2);)r=(r=r.charAt(0)+r.substr(2,o)+"."+r.substr(2+o)).replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,(function(t,n,e,r){return n+e+r.substr(0,(o+u)%o)+"."+r.substr(u)+"E"}))}else r=e.toExponential(i);return n.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),n.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}(y,_);if(36===y.charCodeAt(0))return"$"+p(g,y.substr(" "==y.charAt(1)?2:1),_);var w,x,b,M,k=Math.abs(_),E=_<0?"-":"";if(y.match(/^00+$/))return E+a(k,y.length);if(y.match(/^[#?]+$/))return"0"===(w=a(_,0))&&(w=""),w.length>y.length?w:l(y.substr(0,y.length-w.length))+w;if(x=y.match(u))return function(t,n,o){var u=parseInt(t[4],10),a=Math.round(n*u),c=Math.floor(a/u),s=a-c*u,f=u;return o+(0===c?"":""+c)+" "+(0===s?e(" ",t[1].length+1+t[4].length):i(s,t[1].length)+t[2]+"/"+t[3]+r(f,t[4].length))}(x,k,E);if(y.match(/^#+0+$/))return E+a(k,y.length-y.indexOf("0"));if(x=y.match(c))return w=h(_,x[1].length).replace(/^([^\.]+)$/,"$1."+l(x[1])).replace(/\.$/,"."+l(x[1])).replace(/\.(\d*)$/,(function(t,n){return"."+n+e("0",l(x[1]).length-n.length)})),-1!==y.indexOf("0.")?w:w.replace(/^0\./,".");if(y=y.replace(/^#+([0.])/,"$1"),x=y.match(/^(0*)\.(#*)$/))return E+h(k,x[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,x[1].length?"0.":".");if(x=y.match(/^#{1,3},##0(\.?)$/))return E+A(a(k,0));if(x=y.match(/^#,##0\.([#0]*0)$/))return _<0?"-"+p(g,y,-_):A(""+(Math.floor(_)+function(t,n){return n<(""+Math.round((t-Math.floor(t))*Math.pow(10,n))).length?1:0}(_,x[1].length)))+"."+r(d(_,x[1].length),x[1].length);if(x=y.match(/^#,#*,#0/))return p(g,y.replace(/^#,#*,/,""),_);if(x=y.match(/^([0#]+)(\\?-([0#]+))+$/))return w=n(p(g,y.replace(/[\\-]/g,""),_)),b=0,n(n(y.replace(/\\/g,"")).replace(/[0#]/g,(function(t){return b<w.length?w.charAt(b++):"0"===t?"0":""})));if(y.match(f))return"("+(w=p(g,"##########",_)).substr(0,3)+") "+w.substr(3,3)+"-"+w.substr(6);var T="";if(x=y.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return b=Math.min(x[4].length,7),M=v(k,Math.pow(10,b)-1,!1),w=""+E," "==(T=N("n",x[1],M[1])).charAt(T.length-1)&&(T=T.substr(0,T.length-1)+"0"),w+=T+x[2]+"/"+x[3],(T=o(M[2],b)).length<x[4].length&&(T=l(x[4].substr(x[4].length-T.length))+T),w+=T;if(x=y.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return b=Math.min(Math.max(x[1].length,x[4].length),7),E+((M=v(k,Math.pow(10,b)-1,!0))[0]||(M[1]?"":"0"))+" "+(M[1]?i(M[1],b)+x[2]+"/"+x[3]+o(M[2],b):e(" ",2*b+1+x[2].length+x[3].length));if(x=y.match(/^[#0?]+$/))return w=a(_,0),y.length<=w.length?w:l(y.substr(0,y.length-w.length))+w;if(x=y.match(/^([#0?]+)\.([#0]+)$/)){w=""+_.toFixed(Math.min(x[2].length,10)).replace(/([^0])0+$/,"$1"),b=w.indexOf(".");var S=y.indexOf(".")-b,C=y.length-w.length-S;return l(y.substr(0,S)+w+y.substr(y.length-C))}if(x=y.match(/^00,000\.([#0]*0)$/))return b=d(_,x[1].length),_<0?"-"+p(g,y,-_):A(function(t){return t<2147483647&&t>-2147483648?""+(t>=0?0|t:t-1|0):""+Math.floor(t)}(_)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,(function(t){return"00,"+(t.length<3?r(0,3-t.length):"")+t}))+"."+r(b,x[1].length);switch(y){case"###,##0.00":return p(g,"#,##0.00",_);case"###,###":case"##,###":case"#,###":var D=A(a(k,0));return"0"!==D?E+D:"";case"###,###.00":return p(g,"###,##0.00",_).replace(/^0\./,".");case"#,###.00":return p(g,"#,##0.00",_).replace(/^0\./,".")}throw new Error("unsupported format |"+y+"|")}function g(a,h,d){if(40===a.charCodeAt(0)&&!h.match(s)){var p=h.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return d>=0?g("n",p,d):"("+g("n",p,-d)+")"}if(44===h.charCodeAt(h.length-1))return function(t,n,e){for(var r=n.length-1;44===n.charCodeAt(r-1);)--r;return N(t,n.substr(0,r),e/Math.pow(10,3*(n.length-r)))}(a,h,d);if(-1!==h.indexOf("%"))return function(n,r,i){var o=r.replace(t,""),u=r.length-o.length;return N(n,o,i*Math.pow(10,2*u))+e("%",u)}(a,h,d);if(-1!==h.indexOf("E"))return function t(n,e){var r,i=n.indexOf("E")-n.indexOf(".")-1;if(n.match(/^#+0.0E\+0$/)){if(0==e)return"0.0E+0";if(e<0)return"-"+t(n,-e);var o=n.indexOf(".");-1===o&&(o=n.indexOf("E"));var u=Math.floor(Math.log(e)*Math.LOG10E)%o;if(u<0&&(u+=o),!(r=(e/Math.pow(10,u)).toPrecision(i+1+(o+u)%o)).match(/[Ee]/)){var a=Math.floor(Math.log(e)*Math.LOG10E);-1===r.indexOf(".")?r=r.charAt(0)+"."+r.substr(1)+"E+"+(a-r.length+u):r+="E+"+(a-u),r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,(function(t,n,e,r){return n+e+r.substr(0,(o+u)%o)+"."+r.substr(u)+"E"}))}else r=e.toExponential(i);return n.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),n.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}(h,d);if(36===h.charCodeAt(0))return"$"+g(a,h.substr(" "==h.charAt(1)?2:1),d);var y,_,m,w,x=Math.abs(d),b=d<0?"-":"";if(h.match(/^00+$/))return b+r(x,h.length);if(h.match(/^[#?]+$/))return y=""+d,0===d&&(y=""),y.length>h.length?y:l(h.substr(0,h.length-y.length))+y;if(_=h.match(u))return function(t,n,r){return r+(0===n?"":""+n)+e(" ",t[1].length+2+t[4].length)}(_,x,b);if(h.match(/^#+0+$/))return b+r(x,h.length-h.indexOf("0"));if(_=h.match(c))return y=(y=(""+d).replace(/^([^\.]+)$/,"$1."+l(_[1])).replace(/\.$/,"."+l(_[1]))).replace(/\.(\d*)$/,(function(t,n){return"."+n+e("0",l(_[1]).length-n.length)})),-1!==h.indexOf("0.")?y:y.replace(/^0\./,".");if(h=h.replace(/^#+([0.])/,"$1"),_=h.match(/^(0*)\.(#*)$/))return b+(""+x).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,_[1].length?"0.":".");if(_=h.match(/^#{1,3},##0(\.?)$/))return b+A(""+x);if(_=h.match(/^#,##0\.([#0]*0)$/))return d<0?"-"+g(a,h,-d):A(""+d)+"."+e("0",_[1].length);if(_=h.match(/^#,#*,#0/))return g(a,h.replace(/^#,#*,/,""),d);if(_=h.match(/^([0#]+)(\\?-([0#]+))+$/))return y=n(g(a,h.replace(/[\\-]/g,""),d)),m=0,n(n(h.replace(/\\/g,"")).replace(/[0#]/g,(function(t){return m<y.length?y.charAt(m++):"0"===t?"0":""})));if(h.match(f))return"("+(y=g(a,"##########",d)).substr(0,3)+") "+y.substr(3,3)+"-"+y.substr(6);var M="";if(_=h.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return m=Math.min(_[4].length,7),w=v(x,Math.pow(10,m)-1,!1),y=""+b," "==(M=N("n",_[1],w[1])).charAt(M.length-1)&&(M=M.substr(0,M.length-1)+"0"),y+=M+_[2]+"/"+_[3],(M=o(w[2],m)).length<_[4].length&&(M=l(_[4].substr(_[4].length-M.length))+M),y+=M;if(_=h.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return m=Math.min(Math.max(_[1].length,_[4].length),7),b+((w=v(x,Math.pow(10,m)-1,!0))[0]||(w[1]?"":"0"))+" "+(w[1]?i(w[1],m)+_[2]+"/"+_[3]+o(w[2],m):e(" ",2*m+1+_[2].length+_[3].length));if(_=h.match(/^[#0?]+$/))return y=""+d,h.length<=y.length?y:l(h.substr(0,h.length-y.length))+y;if(_=h.match(/^([#0]+)\.([#0]+)$/)){y=""+d.toFixed(Math.min(_[2].length,10)).replace(/([^0])0+$/,"$1"),m=y.indexOf(".");var k=h.indexOf(".")-m,E=h.length-y.length-k;return l(h.substr(0,k)+y+h.substr(h.length-E))}if(_=h.match(/^00,000\.([#0]*0)$/))return d<0?"-"+g(a,h,-d):A(""+d).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,(function(t){return"00,"+(t.length<3?r(0,3-t.length):"")+t}))+"."+r(0,_[1].length);switch(h){case"###,###":case"##,###":case"#,###":var T=A(""+x);return"0"!==T?b+T:"";default:if(h.match(/\.[0#?]*$/))return g(a,h.slice(0,h.lastIndexOf(".")),d)+l(h.slice(h.lastIndexOf(".")))}throw new Error("unsupported format |"+h+"|")}return function(t,n,e){return(0|e)===e?g(t,n,e):p(t,n,e)}}();function E(t){for(var n=[],e=!1,r=0,i=0;r<t.length;++r)switch(t.charCodeAt(r)){case 34:e=!e;break;case 95:case 42:case 92:++r;break;case 59:n[n.length]=t.substr(i,r-i),i=r+1}if(n[n.length]=t.substr(i),!0===e)throw new Error("Format |"+t+"| unterminated string ");return n}t._split=E;var T=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function S(t){for(var n=0,e="",r="";n<t.length;)switch(e=t.charAt(n)){case"G":c(t,n)&&(n+=6),n++;break;case'"':for(;34!==t.charCodeAt(++n)&&n<t.length;);++n;break;case"\\":case"_":n+=2;break;case"@":++n;break;case"B":case"b":if("1"===t.charAt(n+1)||"2"===t.charAt(n+1))return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"上":if("A/P"===t.substr(n,3).toUpperCase())return!0;if("AM/PM"===t.substr(n,5).toUpperCase())return!0;if("上午/下午"===t.substr(n,5).toUpperCase())return!0;++n;break;case"[":for(r=e;"]"!==t.charAt(n++)&&n<t.length;)r+=t.charAt(n);if(r.match(T))return!0;break;case".":case"0":case"#":for(;n<t.length&&("0#?.,E+-%".indexOf(e=t.charAt(++n))>-1||"\\"==e&&"-"==t.charAt(n+1)&&"0#".indexOf(t.charAt(n+2))>-1););break;case"?":for(;t.charAt(++n)===e;);break;case"*":++n," "!=t.charAt(n)&&"*"!=t.charAt(n)||++n;break;case"(":case")":++n;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;n<t.length&&"0123456789".indexOf(t.charAt(++n))>-1;);break;case" ":default:++n}return!1}function C(t,n,e,r){for(var i,o,u,a=[],s="",f=0,l="",h="t",d="H";f<t.length;)switch(l=t.charAt(f)){case"G":if(!c(t,f))throw new Error("unrecognized character "+l+" in "+t);a[a.length]={t:"G",v:"General"},f+=7;break;case'"':for(s="";34!==(u=t.charCodeAt(++f))&&f<t.length;)s+=String.fromCharCode(u);a[a.length]={t:"t",v:s},++f;break;case"\\":var p=t.charAt(++f),g="("===p||")"===p?p:"t";a[a.length]={t:g,v:p},++f;break;case"_":a[a.length]={t:"t",v:" "},f+=2;break;case"@":a[a.length]={t:"T",v:n},++f;break;case"B":case"b":if("1"===t.charAt(f+1)||"2"===t.charAt(f+1)){if(null==i&&null==(i=y(n,e,"2"===t.charAt(f+1))))return"";a[a.length]={t:"X",v:t.substr(f,2)},h=l,f+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":l=l.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(n<0)return"";if(null==i&&null==(i=y(n,e)))return"";for(s=l;++f<t.length&&t.charAt(f).toLowerCase()===l;)s+=l;"m"===l&&"h"===h.toLowerCase()&&(l="M"),"h"===l&&(l=d),a[a.length]={t:l,v:s},h=l;break;case"A":case"a":case"上":var v={t:l,v:l};if(null==i&&(i=y(n,e)),"A/P"===t.substr(f,3).toUpperCase()?(null!=i&&(v.v=i.H>=12?"P":"A"),v.t="T",d="h",f+=3):"AM/PM"===t.substr(f,5).toUpperCase()?(null!=i&&(v.v=i.H>=12?"PM":"AM"),v.t="T",f+=5,d="h"):"上午/下午"===t.substr(f,5).toUpperCase()?(null!=i&&(v.v=i.H>=12?"下午":"上午"),v.t="T",f+=5,d="h"):(v.t="t",++f),null==i&&"T"===v.t)return"";a[a.length]=v,h=l;break;case"[":for(s=l;"]"!==t.charAt(f++)&&f<t.length;)s+=t.charAt(f);if("]"!==s.slice(-1))throw'unterminated "[" block: |'+s+"|";if(s.match(T)){if(null==i&&null==(i=y(n,e)))return"";a[a.length]={t:"Z",v:s.toLowerCase()},h=s.charAt(1)}else s.indexOf("$")>-1&&(s=(s.match(/\$([^-\[\]]*)/)||[])[1]||"$",S(t)||(a[a.length]={t:"t",v:s}));break;case".":if(null!=i){for(s=l;++f<t.length&&"0"===(l=t.charAt(f));)s+=l;a[a.length]={t:"s",v:s};break}case"0":case"#":for(s=l;++f<t.length&&"0#?.,E+-%".indexOf(l=t.charAt(f))>-1;)s+=l;a[a.length]={t:"n",v:s};break;case"?":for(s=l;t.charAt(++f)===l;)s+=l;a[a.length]={t:l,v:s},h=l;break;case"*":++f," "!=t.charAt(f)&&"*"!=t.charAt(f)||++f;break;case"(":case")":a[a.length]={t:1===r?"t":l,v:l},++f;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(s=l;f<t.length&&"0123456789".indexOf(t.charAt(++f))>-1;)s+=t.charAt(f);a[a.length]={t:"D",v:s};break;case" ":a[a.length]={t:l,v:l},++f;break;case"$":a[a.length]={t:"t",v:"$"},++f;break;default:if(-1===",$-+/():!^&'~{}<>=€acfijklopqrtuvwxzP".indexOf(l))throw new Error("unrecognized character "+l+" in "+t);a[a.length]={t:"t",v:l},++f}var _,m=0,w=0;for(f=a.length-1,h="t";f>=0;--f)switch(a[f].t){case"h":case"H":a[f].t=d,h="h",m<1&&(m=1);break;case"s":(_=a[f].v.match(/\.0+$/))&&(w=Math.max(w,_[0].length-1)),m<3&&(m=3);case"d":case"y":case"M":case"e":h=a[f].t;break;case"m":"s"===h&&(a[f].t="M",m<2&&(m=2));break;case"X":break;case"Z":m<1&&a[f].v.match(/[Hh]/)&&(m=1),m<2&&a[f].v.match(/[Mm]/)&&(m=2),m<3&&a[f].v.match(/[Ss]/)&&(m=3)}switch(m){case 0:break;case 1:i.u>=.5&&(i.u=0,++i.S),i.S>=60&&(i.S=0,++i.M),i.M>=60&&(i.M=0,++i.H);break;case 2:i.u>=.5&&(i.u=0,++i.S),i.S>=60&&(i.S=0,++i.M)}var x,b="";for(f=0;f<a.length;++f)switch(a[f].t){case"t":case"T":case" ":case"D":break;case"X":a[f].v="",a[f].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":a[f].v=k(a[f].t.charCodeAt(0),a[f].v,i,w),a[f].t="t";break;case"n":case"?":for(x=f+1;null!=a[x]&&("?"===(l=a[x].t)||"D"===l||(" "===l||"t"===l)&&null!=a[x+1]&&("?"===a[x+1].t||"t"===a[x+1].t&&"/"===a[x+1].v)||"("===a[f].t&&(" "===l||"n"===l||")"===l)||"t"===l&&("/"===a[x].v||" "===a[x].v&&null!=a[x+1]&&"?"==a[x+1].t));)a[f].v+=a[x].v,a[x]={v:"",t:";"},++x;b+=a[f].v,f=x-1;break;case"G":a[f].t="t",a[f].v=M(n,e)}var A,E,C="";if(b.length>0){40==b.charCodeAt(0)?(A=n<0&&45===b.charCodeAt(0)?-n:n,E=N("n",b,A)):(E=N("n",b,A=n<0&&r>1?-n:n),A<0&&a[0]&&"t"==a[0].t&&(E=E.substr(1),a[0].v="-"+a[0].v)),x=E.length-1;var D=a.length;for(f=0;f<a.length;++f)if(null!=a[f]&&"t"!=a[f].t&&a[f].v.indexOf(".")>-1){D=f;break}var P=a.length;if(D===a.length&&-1===E.indexOf("E")){for(f=a.length-1;f>=0;--f)null!=a[f]&&-1!=="n?".indexOf(a[f].t)&&(x>=a[f].v.length-1?(x-=a[f].v.length,a[f].v=E.substr(x+1,a[f].v.length)):x<0?a[f].v="":(a[f].v=E.substr(0,x+1),x=-1),a[f].t="t",P=f);x>=0&&P<a.length&&(a[P].v=E.substr(0,x+1)+a[P].v)}else if(D!==a.length&&-1===E.indexOf("E")){for(x=E.indexOf(".")-1,f=D;f>=0;--f)if(null!=a[f]&&-1!=="n?".indexOf(a[f].t)){for(o=a[f].v.indexOf(".")>-1&&f===D?a[f].v.indexOf(".")-1:a[f].v.length-1,C=a[f].v.substr(o+1);o>=0;--o)x>=0&&("0"===a[f].v.charAt(o)||"#"===a[f].v.charAt(o))&&(C=E.charAt(x--)+C);a[f].v=C,a[f].t="t",P=f}for(x>=0&&P<a.length&&(a[P].v=E.substr(0,x+1)+a[P].v),x=E.indexOf(".")+1,f=D;f<a.length;++f)if(null!=a[f]&&(-1!=="n?(".indexOf(a[f].t)||f===D)){for(o=a[f].v.indexOf(".")>-1&&f===D?a[f].v.indexOf(".")+1:0,C=a[f].v.substr(0,o);o<a[f].v.length;++o)x<E.length&&(C+=E.charAt(x++));a[f].v=C,a[f].t="t",P=f}}}for(f=0;f<a.length;++f)null!=a[f]&&"n?".indexOf(a[f].t)>-1&&(A=r>1&&n<0&&f>0&&"-"===a[f-1].v?-n:n,a[f].v=N(a[f].t,a[f].v,A),a[f].t="t");var L="";for(f=0;f!==a.length;++f)null!=a[f]&&(L+=a[f].v);return L}t.is_date=S,t._eval=C;var D=/\[[=<>]/,P=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function L(t,n){if(null==n)return!1;var e=parseFloat(n[2]);switch(n[1]){case"=":if(t==e)return!0;break;case">":if(t>e)return!0;break;case"<":if(t<e)return!0;break;case"<>":if(t!=e)return!0;break;case">=":if(t>=e)return!0;break;case"<=":if(t<=e)return!0}return!1}function O(t,n,e){null==e&&(e={});var r="";switch(typeof t){case"string":r="m/d/yy"==t&&e.dateNF?e.dateNF:t;break;case"number":null==(r=14==t&&e.dateNF?e.dateNF:(null!=e.table?e.table:h)[t])&&(r=e.table&&e.table[d[t]]||h[d[t]]),null==r&&(r=g[t]||"General")}if(c(r,0))return M(n,e);n instanceof Date&&(n=x(n,e.date1904));var i=function(t,n){var e=E(t),r=e.length,i=e[r-1].indexOf("@");if(r<4&&i>-1&&--r,e.length>4)throw new Error("cannot find right format for |"+e.join("|")+"|");if("number"!=typeof n)return[4,4===e.length||i>-1?e[e.length-1]:"@"];switch(e.length){case 1:e=i>-1?["General","General","General",e[0]]:[e[0],e[0],e[0],"@"];break;case 2:e=i>-1?[e[0],e[0],e[0],e[1]]:[e[0],e[1],e[0],"@"];break;case 3:e=i>-1?[e[0],e[1],e[0],e[2]]:[e[0],e[1],e[2],"@"]}var o=n>0?e[0]:n<0?e[1]:e[2];if(-1===e[0].indexOf("[")&&-1===e[1].indexOf("["))return[r,o];if(null!=e[0].match(D)||null!=e[1].match(D)){var u=e[0].match(P),a=e[1].match(P);return L(n,u)?[r,e[0]]:L(n,a)?[r,e[1]]:[r,e[null!=u&&null!=a?2:1]]}return[r,o]}(r,n);if(c(i[1]))return M(n,e);if(!0===n)n="TRUE";else if(!1===n)n="FALSE";else if(""===n||null==n)return"";return C(i[1],n,e,i[0])}function U(t,n){if("number"!=typeof n){n=+n||-1;for(var e=0;e<392;++e)if(null!=h[e]){if(h[e]==t){n=e;break}}else n<0&&(n=e);n<0&&(n=391)}return h[n]=t,n}t.load=U,t._table=h,t.get_table=function(){return h},t.load_table=function(t){for(var n=0;392!=n;++n)void 0!==t[n]&&U(t[n],n)},t.init_table=l,t.format=O}(r),"undefined"==typeof DO_NOT_EXPORT_SSF&&(t.exports=r)},19:function(t,n,e){"use strict";e.r(n);var r={};e.r(r),e.d(r,"version",(function(){return ut})),e.d(r,"bisect",(function(){return ht})),e.d(r,"bisectRight",(function(){return ft})),e.d(r,"bisectLeft",(function(){return lt})),e.d(r,"ascending",(function(){return at})),e.d(r,"bisector",(function(){return ct})),e.d(r,"cross",(function(){return gt})),e.d(r,"descending",(function(){return vt})),e.d(r,"deviation",(function(){return mt})),e.d(r,"extent",(function(){return wt})),e.d(r,"histogram",(function(){return Ot})),e.d(r,"thresholdFreedmanDiaconis",(function(){return zt})),e.d(r,"thresholdScott",(function(){return qt})),e.d(r,"thresholdSturges",(function(){return Lt})),e.d(r,"max",(function(){return Rt})),e.d(r,"mean",(function(){return $t})),e.d(r,"median",(function(){return Ft})),e.d(r,"merge",(function(){return Ht})),e.d(r,"min",(function(){return Yt})),e.d(r,"pairs",(function(){return dt})),e.d(r,"permute",(function(){return It})),e.d(r,"quantile",(function(){return Ut})),e.d(r,"range",(function(){return Nt})),e.d(r,"scan",(function(){return jt})),e.d(r,"shuffle",(function(){return Xt})),e.d(r,"sum",(function(){return Bt})),e.d(r,"ticks",(function(){return Ct})),e.d(r,"tickIncrement",(function(){return Dt})),e.d(r,"tickStep",(function(){return Pt})),e.d(r,"transpose",(function(){return Vt})),e.d(r,"variance",(function(){return _t})),e.d(r,"zip",(function(){return Wt})),e.d(r,"axisTop",(function(){return en})),e.d(r,"axisRight",(function(){return rn})),e.d(r,"axisBottom",(function(){return on})),e.d(r,"axisLeft",(function(){return un})),e.d(r,"brush",(function(){return fi})),e.d(r,"brushX",(function(){return ci})),e.d(r,"brushY",(function(){return si})),e.d(r,"brushSelection",(function(){return ai})),e.d(r,"chord",(function(){return _i})),e.d(r,"ribbon",(function(){return Ni})),e.d(r,"nest",(function(){return Ci})),e.d(r,"set",(function(){return Ri})),e.d(r,"map",(function(){return Si})),e.d(r,"keys",(function(){return $i})),e.d(r,"values",(function(){return Fi})),e.d(r,"entries",(function(){return Hi})),e.d(r,"color",(function(){return ro})),e.d(r,"rgb",(function(){return ao})),e.d(r,"hsl",(function(){return fo})),e.d(r,"lab",(function(){return mo})),e.d(r,"hcl",(function(){return Ao})),e.d(r,"cubehelix",(function(){return Lo})),e.d(r,"dispatch",(function(){return Fo})),e.d(r,"drag",(function(){return ju})),e.d(r,"dragDisable",(function(){return zu})),e.d(r,"dragEnable",(function(){return qu})),e.d(r,"dsvFormat",(function(){return Gu})),e.d(r,"csvParse",(function(){return Zu})),e.d(r,"csvParseRows",(function(){return Ju})),e.d(r,"csvFormat",(function(){return Qu})),e.d(r,"csvFormatRows",(function(){return Ku})),e.d(r,"tsvParse",(function(){return na})),e.d(r,"tsvParseRows",(function(){return ea})),e.d(r,"tsvFormat",(function(){return ra})),e.d(r,"tsvFormatRows",(function(){return ia})),e.d(r,"easeLinear",(function(){return oa})),e.d(r,"easeQuad",(function(){return ca})),e.d(r,"easeQuadIn",(function(){return ua})),e.d(r,"easeQuadOut",(function(){return aa})),e.d(r,"easeQuadInOut",(function(){return ca})),e.d(r,"easeCubic",(function(){return la})),e.d(r,"easeCubicIn",(function(){return sa})),e.d(r,"easeCubicOut",(function(){return fa})),e.d(r,"easeCubicInOut",(function(){return la})),e.d(r,"easePoly",(function(){return pa})),e.d(r,"easePolyIn",(function(){return ha})),e.d(r,"easePolyOut",(function(){return da})),e.d(r,"easePolyInOut",(function(){return pa})),e.d(r,"easeSin",(function(){return ma})),e.d(r,"easeSinIn",(function(){return ya})),e.d(r,"easeSinOut",(function(){return _a})),e.d(r,"easeSinInOut",(function(){return ma})),e.d(r,"easeExp",(function(){return ba})),e.d(r,"easeExpIn",(function(){return wa})),e.d(r,"easeExpOut",(function(){return xa})),e.d(r,"easeExpInOut",(function(){return ba})),e.d(r,"easeCircle",(function(){return Aa})),e.d(r,"easeCircleIn",(function(){return Ma})),e.d(r,"easeCircleOut",(function(){return ka})),e.d(r,"easeCircleInOut",(function(){return Aa})),e.d(r,"easeBounce",(function(){return Ta})),e.d(r,"easeBounceIn",(function(){return Ea})),e.d(r,"easeBounceOut",(function(){return Ta})),e.d(r,"easeBounceInOut",(function(){return Sa})),e.d(r,"easeBack",(function(){return Pa})),e.d(r,"easeBackIn",(function(){return Ca})),e.d(r,"easeBackOut",(function(){return Da})),e.d(r,"easeBackInOut",(function(){return Pa})),e.d(r,"easeElastic",(function(){return Ua})),e.d(r,"easeElasticIn",(function(){return Oa})),e.d(r,"easeElasticOut",(function(){return Ua})),e.d(r,"easeElasticInOut",(function(){return za})),e.d(r,"forceCenter",(function(){return qa})),e.d(r,"forceCollide",(function(){return Za})),e.d(r,"forceLink",(function(){return Ka})),e.d(r,"forceManyBody",(function(){return oc})),e.d(r,"forceRadial",(function(){return uc})),e.d(r,"forceSimulation",(function(){return ic})),e.d(r,"forceX",(function(){return ac})),e.d(r,"forceY",(function(){return cc})),e.d(r,"formatDefaultLocale",(function(){return bc})),e.d(r,"format",(function(){return yc})),e.d(r,"formatPrefix",(function(){return _c})),e.d(r,"formatLocale",(function(){return xc})),e.d(r,"formatSpecifier",(function(){return pc})),e.d(r,"precisionFixed",(function(){return Mc})),e.d(r,"precisionPrefix",(function(){return kc})),e.d(r,"precisionRound",(function(){return Ac})),e.d(r,"geoArea",(function(){return ys})),e.d(r,"geoBounds",(function(){return ff})),e.d(r,"geoCentroid",(function(){return bf})),e.d(r,"geoCircle",(function(){return Lf})),e.d(r,"geoClipAntimeridian",(function(){return jf})),e.d(r,"geoClipCircle",(function(){return Xf})),e.d(r,"geoClipExtent",(function(){return Qf})),e.d(r,"geoClipRectangle",(function(){return Gf})),e.d(r,"geoContains",(function(){return vl})),e.d(r,"geoDistance",(function(){return al})),e.d(r,"geoGraticule",(function(){return ml})),e.d(r,"geoGraticule10",(function(){return wl})),e.d(r,"geoInterpolate",(function(){return Al})),e.d(r,"geoLength",(function(){return il})),e.d(r,"geoPath",(function(){return Mh})),e.d(r,"geoAlbers",(function(){return Fh})),e.d(r,"geoAlbersUsa",(function(){return Hh})),e.d(r,"geoAzimuthalEqualArea",(function(){return Xh})),e.d(r,"geoAzimuthalEqualAreaRaw",(function(){return jh})),e.d(r,"geoAzimuthalEquidistant",(function(){return Vh})),e.d(r,"geoAzimuthalEquidistantRaw",(function(){return Bh})),e.d(r,"geoConicConformal",(function(){return Kh})),e.d(r,"geoConicConformalRaw",(function(){return Qh})),e.d(r,"geoConicEqualArea",(function(){return $h})),e.d(r,"geoConicEqualAreaRaw",(function(){return Rh})),e.d(r,"geoConicEquidistant",(function(){return rd})),e.d(r,"geoConicEquidistantRaw",(function(){return ed})),e.d(r,"geoEquirectangular",(function(){return nd})),e.d(r,"geoEquirectangularRaw",(function(){return td})),e.d(r,"geoGnomonic",(function(){return od})),e.d(r,"geoGnomonicRaw",(function(){return id})),e.d(r,"geoIdentity",(function(){return ad})),e.d(r,"geoProjection",(function(){return Uh})),e.d(r,"geoProjectionMutator",(function(){return zh})),e.d(r,"geoMercator",(function(){return Wh})),e.d(r,"geoMercatorRaw",(function(){return Gh})),e.d(r,"geoNaturalEarth1",(function(){return sd})),e.d(r,"geoNaturalEarth1Raw",(function(){return cd})),e.d(r,"geoOrthographic",(function(){return ld})),e.d(r,"geoOrthographicRaw",(function(){return fd})),e.d(r,"geoStereographic",(function(){return dd})),e.d(r,"geoStereographicRaw",(function(){return hd})),e.d(r,"geoTransverseMercator",(function(){return gd})),e.d(r,"geoTransverseMercatorRaw",(function(){return pd})),e.d(r,"geoRotation",(function(){return Cf})),e.d(r,"geoStream",(function(){return ss})),e.d(r,"geoTransform",(function(){return kh})),e.d(r,"cluster",(function(){return md})),e.d(r,"hierarchy",(function(){return xd})),e.d(r,"pack",(function(){return Xd})),e.d(r,"packSiblings",(function(){return Fd})),e.d(r,"packEnclose",(function(){return Ed})),e.d(r,"partition",(function(){return Jd})),e.d(r,"stratify",(function(){return ep})),e.d(r,"tree",(function(){return sp})),e.d(r,"treemap",(function(){return pp})),e.d(r,"treemapBinary",(function(){return gp})),e.d(r,"treemapDice",(function(){return Zd})),e.d(r,"treemapSlice",(function(){return fp})),e.d(r,"treemapSliceDice",(function(){return vp})),e.d(r,"treemapSquarify",(function(){return dp})),e.d(r,"treemapResquarify",(function(){return yp})),e.d(r,"interpolate",(function(){return vg})),e.d(r,"interpolateArray",(function(){return sg})),e.d(r,"interpolateBasis",(function(){return Wp})),e.d(r,"interpolateBasisClosed",(function(){return Zp})),e.d(r,"interpolateDate",(function(){return fg})),e.d(r,"interpolateNumber",(function(){return lg})),e.d(r,"interpolateObject",(function(){return hg})),e.d(r,"interpolateRound",(function(){return yg})),e.d(r,"interpolateString",(function(){return gg})),e.d(r,"interpolateTransformCss",(function(){return bg})),e.d(r,"interpolateTransformSvg",(function(){return Mg})),e.d(r,"interpolateZoom",(function(){return Ng})),e.d(r,"interpolateRgb",(function(){return ng})),e.d(r,"interpolateRgbBasis",(function(){return ag})),e.d(r,"interpolateRgbBasisClosed",(function(){return cg})),e.d(r,"interpolateHsl",(function(){return Tg})),e.d(r,"interpolateHslLong",(function(){return Sg})),e.d(r,"interpolateLab",(function(){return Xg})),e.d(r,"interpolateHcl",(function(){return Vg})),e.d(r,"interpolateHclLong",(function(){return Gg})),e.d(r,"interpolateCubehelix",(function(){return iv})),e.d(r,"interpolateCubehelixLong",(function(){return ov})),e.d(r,"quantize",(function(){return uv})),e.d(r,"path",(function(){return hv})),e.d(r,"polygonArea",(function(){return dv})),e.d(r,"polygonCentroid",(function(){return pv})),e.d(r,"polygonHull",(function(){return _v})),e.d(r,"polygonContains",(function(){return mv})),e.d(r,"polygonLength",(function(){return wv})),e.d(r,"quadtree",(function(){return Av})),e.d(r,"queue",(function(){return zv})),e.d(r,"randomUniform",(function(){return Rv})),e.d(r,"randomNormal",(function(){return $v})),e.d(r,"randomLogNormal",(function(){return Fv})),e.d(r,"randomBates",(function(){return Yv})),e.d(r,"randomIrwinHall",(function(){return Hv})),e.d(r,"randomExponential",(function(){return Iv})),e.d(r,"request",(function(){return jv})),e.d(r,"html",(function(){return Bv})),e.d(r,"json",(function(){return Vv})),e.d(r,"text",(function(){return Gv})),e.d(r,"xml",(function(){return Wv})),e.d(r,"csv",(function(){return oy})),e.d(r,"tsv",(function(){return cy})),e.d(r,"scaleBand",(function(){return py})),e.d(r,"scalePoint",(function(){return gy})),e.d(r,"scaleIdentity",(function(){return Hy})),e.d(r,"scaleLinear",(function(){return Fy})),e.d(r,"scaleLog",(function(){return Wy})),e.d(r,"scaleOrdinal",(function(){return dy})),e.d(r,"scaleImplicit",(function(){return hy})),e.d(r,"scalePow",(function(){return Jy})),e.d(r,"scaleSqrt",(function(){return Qy})),e.d(r,"scaleQuantile",(function(){return Ky})),e.d(r,"scaleQuantize",(function(){return t_})),e.d(r,"scaleThreshold",(function(){return n_})),e.d(r,"scaleTime",(function(){return mw})),e.d(r,"scaleUtc",(function(){return Nw})),e.d(r,"schemeCategory10",(function(){return Tw})),e.d(r,"schemeCategory20b",(function(){return Sw})),e.d(r,"schemeCategory20c",(function(){return Cw})),e.d(r,"schemeCategory20",(function(){return Dw})),e.d(r,"interpolateCubehelixDefault",(function(){return jw})),e.d(r,"interpolateRainbow",(function(){return Gw})),e.d(r,"interpolateWarm",(function(){return Xw})),e.d(r,"interpolateCool",(function(){return Bw})),e.d(r,"interpolateViridis",(function(){return Zw})),e.d(r,"interpolateMagma",(function(){return Jw})),e.d(r,"interpolateInferno",(function(){return Qw})),e.d(r,"interpolatePlasma",(function(){return Kw})),e.d(r,"scaleSequential",(function(){return tx})),e.d(r,"create",(function(){return Bx})),e.d(r,"creator",(function(){return ix})),e.d(r,"local",(function(){return Gx})),e.d(r,"matcher",(function(){return hx})),e.d(r,"mouse",(function(){return Qx})),e.d(r,"namespace",(function(){return rx})),e.d(r,"namespaces",(function(){return ex})),e.d(r,"clientPoint",(function(){return Jx})),e.d(r,"select",(function(){return Xx})),e.d(r,"selectAll",(function(){return Kx})),e.d(r,"selection",(function(){return jx})),e.d(r,"selector",(function(){return ux})),e.d(r,"selectorAll",(function(){return cx})),e.d(r,"style",(function(){return mx})),e.d(r,"touch",(function(){return tb})),e.d(r,"touches",(function(){return nb})),e.d(r,"window",(function(){return _x})),e.d(r,"event",(function(){return Ox})),e.d(r,"customEvent",(function(){return $x})),e.d(r,"arc",(function(){return xb})),e.d(r,"area",(function(){return Eb})),e.d(r,"line",(function(){return Nb})),e.d(r,"pie",(function(){return Cb})),e.d(r,"areaRadial",(function(){return zb})),e.d(r,"radialArea",(function(){return zb})),e.d(r,"lineRadial",(function(){return Ub})),e.d(r,"radialLine",(function(){return Ub})),e.d(r,"pointRadial",(function(){return qb})),e.d(r,"linkHorizontal",(function(){return Xb})),e.d(r,"linkVertical",(function(){return Bb})),e.d(r,"linkRadial",(function(){return Vb})),e.d(r,"symbol",(function(){return lM})),e.d(r,"symbols",(function(){return fM})),e.d(r,"symbolCircle",(function(){return Gb})),e.d(r,"symbolCross",(function(){return Wb})),e.d(r,"symbolDiamond",(function(){return Qb})),e.d(r,"symbolSquare",(function(){return rM})),e.d(r,"symbolStar",(function(){return eM})),e.d(r,"symbolTriangle",(function(){return oM})),e.d(r,"symbolWye",(function(){return sM})),e.d(r,"curveBasisClosed",(function(){return yM})),e.d(r,"curveBasisOpen",(function(){return mM})),e.d(r,"curveBasis",(function(){return gM})),e.d(r,"curveBundle",(function(){return xM})),e.d(r,"curveCardinalClosed",(function(){return NM})),e.d(r,"curveCardinalOpen",(function(){return TM})),e.d(r,"curveCardinal",(function(){return kM})),e.d(r,"curveCatmullRomClosed",(function(){return LM})),e.d(r,"curveCatmullRomOpen",(function(){return UM})),e.d(r,"curveCatmullRom",(function(){return DM})),e.d(r,"curveLinearClosed",(function(){return qM})),e.d(r,"curveLinear",(function(){return Mb})),e.d(r,"curveMonotoneX",(function(){return XM})),e.d(r,"curveMonotoneY",(function(){return BM})),e.d(r,"curveNatural",(function(){return WM})),e.d(r,"curveStep",(function(){return JM})),e.d(r,"curveStepAfter",(function(){return KM})),e.d(r,"curveStepBefore",(function(){return QM})),e.d(r,"stack",(function(){return rk})),e.d(r,"stackOffsetExpand",(function(){return ik})),e.d(r,"stackOffsetDiverging",(function(){return ok})),e.d(r,"stackOffsetNone",(function(){return tk})),e.d(r,"stackOffsetSilhouette",(function(){return uk})),e.d(r,"stackOffsetWiggle",(function(){return ak})),e.d(r,"stackOrderAscending",(function(){return ck})),e.d(r,"stackOrderDescending",(function(){return fk})),e.d(r,"stackOrderInsideOut",(function(){return lk})),e.d(r,"stackOrderNone",(function(){return nk})),e.d(r,"stackOrderReverse",(function(){return hk})),e.d(r,"timeInterval",(function(){return gk})),e.d(r,"timeMillisecond",(function(){return yk})),e.d(r,"timeMilliseconds",(function(){return _k})),e.d(r,"utcMillisecond",(function(){return yk})),e.d(r,"utcMilliseconds",(function(){return _k})),e.d(r,"timeSecond",(function(){return bk})),e.d(r,"timeSeconds",(function(){return Mk})),e.d(r,"utcSecond",(function(){return bk})),e.d(r,"utcSeconds",(function(){return Mk})),e.d(r,"timeMinute",(function(){return Ak})),e.d(r,"timeMinutes",(function(){return Nk})),e.d(r,"timeHour",(function(){return Tk})),e.d(r,"timeHours",(function(){return Sk})),e.d(r,"timeDay",(function(){return Dk})),e.d(r,"timeDays",(function(){return Pk})),e.d(r,"timeWeek",(function(){return Ok})),e.d(r,"timeWeeks",(function(){return Hk})),e.d(r,"timeSunday",(function(){return Ok})),e.d(r,"timeSundays",(function(){return Hk})),e.d(r,"timeMonday",(function(){return Uk})),e.d(r,"timeMondays",(function(){return Yk})),e.d(r,"timeTuesday",(function(){return zk})),e.d(r,"timeTuesdays",(function(){return Ik})),e.d(r,"timeWednesday",(function(){return qk})),e.d(r,"timeWednesdays",(function(){return jk})),e.d(r,"timeThursday",(function(){return Rk})),e.d(r,"timeThursdays",(function(){return Xk})),e.d(r,"timeFriday",(function(){return $k})),e.d(r,"timeFridays",(function(){return Bk})),e.d(r,"timeSaturday",(function(){return Fk})),e.d(r,"timeSaturdays",(function(){return Vk})),e.d(r,"timeMonth",(function(){return Wk})),e.d(r,"timeMonths",(function(){return Zk})),e.d(r,"timeYear",(function(){return Qk})),e.d(r,"timeYears",(function(){return Kk})),e.d(r,"utcMinute",(function(){return nA})),e.d(r,"utcMinutes",(function(){return eA})),e.d(r,"utcHour",(function(){return iA})),e.d(r,"utcHours",(function(){return oA})),e.d(r,"utcDay",(function(){return aA})),e.d(r,"utcDays",(function(){return cA})),e.d(r,"utcWeek",(function(){return fA})),e.d(r,"utcWeeks",(function(){return yA})),e.d(r,"utcSunday",(function(){return fA})),e.d(r,"utcSundays",(function(){return yA})),e.d(r,"utcMonday",(function(){return lA})),e.d(r,"utcMondays",(function(){return _A})),e.d(r,"utcTuesday",(function(){return hA})),e.d(r,"utcTuesdays",(function(){return mA})),e.d(r,"utcWednesday",(function(){return dA})),e.d(r,"utcWednesdays",(function(){return wA})),e.d(r,"utcThursday",(function(){return pA})),e.d(r,"utcThursdays",(function(){return xA})),e.d(r,"utcFriday",(function(){return gA})),e.d(r,"utcFridays",(function(){return bA})),e.d(r,"utcSaturday",(function(){return vA})),e.d(r,"utcSaturdays",(function(){return MA})),e.d(r,"utcMonth",(function(){return AA})),e.d(r,"utcMonths",(function(){return NA})),e.d(r,"utcYear",(function(){return TA})),e.d(r,"utcYears",(function(){return SA})),e.d(r,"timeFormatDefaultLocale",(function(){return WN})),e.d(r,"timeFormat",(function(){return UA})),e.d(r,"timeParse",(function(){return zA})),e.d(r,"utcFormat",(function(){return qA})),e.d(r,"utcParse",(function(){return RA})),e.d(r,"timeFormatLocale",(function(){return LA})),e.d(r,"isoFormat",(function(){return QN})),e.d(r,"isoParse",(function(){return KN})),e.d(r,"now",(function(){return cE})),e.d(r,"timer",(function(){return lE})),e.d(r,"timerFlush",(function(){return hE})),e.d(r,"timeout",(function(){return vE})),e.d(r,"interval",(function(){return yE})),e.d(r,"transition",(function(){return DS})),e.d(r,"active",(function(){return qS})),e.d(r,"interrupt",(function(){return RT})),e.d(r,"voronoi",(function(){return xC})),e.d(r,"zoom",(function(){return RC})),e.d(r,"zoomTransform",(function(){return SC})),e.d(r,"zoomIdentity",(function(){return TC}));var i=function(t,n){return t<n?-1:t>n?1:t>=n?0:NaN},o=function(t){return 1===t.length&&(t=function(t){return function(n,e){return i(t(n),e)}}(t)),{left:function(n,e,r,i){for(null==r&&(r=0),null==i&&(i=n.length);r<i;){var o=r+i>>>1;t(n[o],e)<0?r=o+1:i=o}return r},right:function(n,e,r,i){for(null==r&&(r=0),null==i&&(i=n.length);r<i;){var o=r+i>>>1;t(n[o],e)>0?i=o:r=o+1}return r}}},u=o(i),a=u.right,c=(u.left,a),s=function(t){return null===t?NaN:+t},f=Array.prototype,l=(f.slice,f.map,function(t,n,e){t=+t,n=+n,e=(i=arguments.length)<2?(n=t,t=0,1):i<3?1:+e;for(var r=-1,i=0|Math.max(0,Math.ceil((n-t)/e)),o=new Array(i);++r<i;)o[r]=t+r*e;return o}),h=Math.sqrt(50),d=Math.sqrt(10),p=Math.sqrt(2),g=function(t,n,e){var r,i,o,u,a=-1;if(e=+e,(t=+t)==(n=+n)&&e>0)return[t];if((r=n<t)&&(i=t,t=n,n=i),0===(u=v(t,n,e))||!isFinite(u))return[];if(u>0)for(t=Math.ceil(t/u),n=Math.floor(n/u),o=new Array(i=Math.ceil(n-t+1));++a<i;)o[a]=(t+a)*u;else for(t=Math.floor(t*u),n=Math.ceil(n*u),o=new Array(i=Math.ceil(t-n+1));++a<i;)o[a]=(t-a)/u;return r&&o.reverse(),o};function v(t,n,e){var r=(n-t)/Math.max(0,e),i=Math.floor(Math.log(r)/Math.LN10),o=r/Math.pow(10,i);return i>=0?(o>=h?10:o>=d?5:o>=p?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(o>=h?10:o>=d?5:o>=p?2:1)}function y(t,n,e){var r=Math.abs(n-t)/Math.max(0,e),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),o=r/i;return o>=h?i*=10:o>=d?i*=5:o>=p&&(i*=2),n<t?-i:i}var _=function(t,n,e){if(null==e&&(e=s),r=t.length){if((n=+n)<=0||r<2)return+e(t[0],0,t);if(n>=1)return+e(t[r-1],r-1,t);var r,i=(r-1)*n,o=Math.floor(i),u=+e(t[o],o,t);return u+(+e(t[o+1],o+1,t)-u)*(i-o)}},m=function(t){for(var n,e,r,i=t.length,o=-1,u=0;++o<i;)u+=t[o].length;for(e=new Array(u);--i>=0;)for(n=(r=t[i]).length;--n>=0;)e[--u]=r[n];return e},w=function(t,n){var e,r,i=t.length,o=-1;if(null==n){for(;++o<i;)if(null!=(e=t[o])&&e>=e)for(r=e;++o<i;)null!=(e=t[o])&&r>e&&(r=e)}else for(;++o<i;)if(null!=(e=n(t[o],o,t))&&e>=e)for(r=e;++o<i;)null!=(e=n(t[o],o,t))&&r>e&&(r=e);return r},x=function(t,n){var e,r=t.length,i=-1,o=0;if(null==n)for(;++i<r;)(e=+t[i])&&(o+=e);else for(;++i<r;)(e=+n(t[i],i,t))&&(o+=e);return o};function b(){}function M(t,n){var e=new b;if(t instanceof b)t.each((function(t,n){e.set(n,t)}));else if(Array.isArray(t)){var r,i=-1,o=t.length;if(null==n)for(;++i<o;)e.set(i,t[i]);else for(;++i<o;)e.set(n(r=t[i],i,t),r)}else if(t)for(var u in t)e.set(u,t[u]);return e}b.prototype=M.prototype={constructor:b,has:function(t){return"$"+t in this},get:function(t){return this["$"+t]},set:function(t,n){return this["$"+t]=n,this},remove:function(t){var n="$"+t;return n in this&&delete this[n]},clear:function(){for(var t in this)"$"===t[0]&&delete this[t]},keys:function(){var t=[];for(var n in this)"$"===n[0]&&t.push(n.slice(1));return t},values:function(){var t=[];for(var n in this)"$"===n[0]&&t.push(this[n]);return t},entries:function(){var t=[];for(var n in this)"$"===n[0]&&t.push({key:n.slice(1),value:this[n]});return t},size:function(){var t=0;for(var n in this)"$"===n[0]&&++t;return t},empty:function(){for(var t in this)if("$"===t[0])return!1;return!0},each:function(t){for(var n in this)"$"===n[0]&&t(this[n],n.slice(1),this)}};var k=M,A=function(){var t,n,e,r=[],i=[];function o(e,i,u,a){if(i>=r.length)return null!=t&&e.sort(t),null!=n?n(e):e;for(var c,s,f,l=-1,h=e.length,d=r[i++],p=k(),g=u();++l<h;)(f=p.get(c=d(s=e[l])+""))?f.push(s):p.set(c,[s]);return p.each((function(t,n){a(g,n,o(t,i,u,a))})),g}return e={object:function(t){return o(t,0,N,E)},map:function(t){return o(t,0,T,S)},entries:function(t){return function t(e,o){if(++o>r.length)return e;var u,a=i[o-1];return null!=n&&o>=r.length?u=e.entries():(u=[],e.each((function(n,e){u.push({key:e,values:t(n,o)})}))),null!=a?u.sort((function(t,n){return a(t.key,n.key)})):u}(o(t,0,T,S),0)},key:function(t){return r.push(t),e},sortKeys:function(t){return i[r.length-1]=t,e},sortValues:function(n){return t=n,e},rollup:function(t){return n=t,e}}};function N(){return{}}function E(t,n,e){t[n]=e}function T(){return k()}function S(t,n,e){t.set(n,e)}function C(){}var D=k.prototype;function P(t){return t.depth}function L(t,n){return t.sourceLinks.length?t.depth:n-1}function O(t){return function(){return t}}function U(t,n){return q(t.source,n.source)||t.index-n.index}function z(t,n){return q(t.target,n.target)||t.index-n.index}function q(t,n){return t.y0-n.y0}function R(t){return t.value}function $(t){return t.index}function F(t){return t.nodes}function H(t){return t.links}function Y(t,n){var e=t.get(n);if(!e)throw new Error("missing: "+n);return e}function I(){var t,n=0,e=0,r=1,o=1,u=24,a=8,c=$,s=L,f=F,l=H,h=6;function d(){var d={nodes:f.apply(null,arguments),links:l.apply(null,arguments)};return function(t){t.nodes.forEach((function(t,n){t.index=n,t.sourceLinks=[],t.targetLinks=[]}));var n=k(t.nodes,c);t.links.forEach((function(t,e){t.index=e;var r=t.source,i=t.target;"object"!=typeof r&&(r=t.source=Y(n,r)),"object"!=typeof i&&(i=t.target=Y(n,i)),r.sourceLinks.push(t),i.targetLinks.push(t)}))}(d),function(t){t.nodes.forEach((function(t){t.value=Math.max(x(t.sourceLinks,R),x(t.targetLinks,R))}))}(d),function(t){var e,i,o,a=t.nodes.length;for(e=t.nodes,i=[],o=0;e.length;++o,e=i,i=[]){if(o>a)throw new Error("circular link");e.forEach((function(t){t.depth=o,t.sourceLinks.forEach((function(t){i.indexOf(t.target)<0&&i.push(t.target)}))}))}for(e=t.nodes,i=[],o=0;e.length;++o,e=i,i=[]){if(o>a)throw new Error("circular link");e.forEach((function(t){t.height=o,t.targetLinks.forEach((function(t){i.indexOf(t.source)<0&&i.push(t.source)}))}))}var c=(r-n-u)/(o-1);t.nodes.forEach((function(t){t.layer=Math.max(0,Math.min(o-1,Math.floor(s.call(null,t,o)))),t.x1=(t.x0=n+t.layer*c)+u}))}(d),function(n){var r=A().key((function(t){return t.x0})).sortKeys(i).entries(n.nodes).map((function(t){return t.values}));!function(){var i=w(r,(function(t){return(o-e-(t.length-1)*a)/x(t,R)}));r.forEach((function(n){null!=t&&n.sort(t);let r=e;n.forEach((function(t){t.y0=r,t.y1=r+t.value*i,r=t.y1+a}))})),n.links.forEach((function(t){t.width=t.value*i}))}();for(var u=0,c=h;u<c;++u){const t=Math.pow(.99,u),n=(u+1)/c;s(),l(t),d(n),p(n),s(),f(t),d(n),p(n)}function s(){r.forEach((function(t){t.forEach((function(t){t.sourceLinks.sort(z),t.targetLinks.sort(U)}))}))}function f(t){r.slice(1).forEach((function(n){n.forEach((function(n){let e=0,r=0;for(const{source:t,value:i}of n.targetLinks){let o=i*(n.layer-t.layer);e+=g(t,n)*o,r+=o}if(!(r>0))return;let i=(e/r-n.y0)*t;n.y0+=i,n.y1+=i}))}))}function l(t){r.slice(0,-1).reverse().forEach((function(n){n.forEach((function(n){let e=0,r=0;for(const{target:t,value:i}of n.sourceLinks){let o=i*(t.layer-n.layer);e+=v(n,t)*o,r+=o}if(!(r>0))return;let i=(e/r-n.y0)*t;n.y0+=i,n.y1+=i}))}))}function d(n){r.forEach((function(r){var i,o,u,c=e,s=r.length;for(void 0===t&&r.sort(q),u=0;u<s;++u)(o=(c-(i=r[u]).y0)*n)>1e-6&&(i.y0+=o,i.y1+=o),c=i.y1+a}))}function p(n){r.forEach((function(e){var r,i,u,c=o,s=e.length;for(void 0===t&&e.sort(q),u=s-1;u>=0;--u)(i=((r=e[u]).y1-c)*n)>1e-6&&(r.y0-=i,r.y1-=i),c=r.y0-a}))}}(d),p(d),d}function p(t){t.nodes.forEach((function(t){t.sourceLinks.sort(z),t.targetLinks.sort(U)})),t.nodes.forEach((function(t){var n=t.y0,e=n;t.sourceLinks.forEach((function(t){t.y0=n+t.width/2,n+=t.width})),t.targetLinks.forEach((function(t){t.y1=e+t.width/2,e+=t.width}))}))}function g(t,n){let e=t.y0-(t.sourceLinks.length-1)*a/2;for(const{target:r,width:i}of t.sourceLinks){if(r===n)break;e+=i+a}for(const{source:r,width:i}of n.targetLinks){if(r===t)break;e-=i}return e}function v(t,n){let e=n.y0-(n.targetLinks.length-1)*a/2;for(const{source:r,width:i}of n.targetLinks){if(r===t)break;e+=i+a}for(const{target:r,width:i}of t.sourceLinks){if(r===n)break;e-=i}return e}return d.update=function(t){return p(t),t},d.nodeId=function(t){return arguments.length?(c="function"==typeof t?t:O(t),d):c},d.nodeAlign=function(t){return arguments.length?(s="function"==typeof t?t:O(t),d):s},d.nodeSort=function(n){return arguments.length?(t=n,d):t},d.nodeWidth=function(t){return arguments.length?(u=+t,d):u},d.nodePadding=function(t){return arguments.length?(a=+t,d):a},d.nodes=function(t){return arguments.length?(f="function"==typeof t?t:O(t),d):f},d.links=function(t){return arguments.length?(l="function"==typeof t?t:O(t),d):l},d.size=function(t){return arguments.length?(n=e=0,r=+t[0],o=+t[1],d):[r-n,o-e]},d.extent=function(t){return arguments.length?(n=+t[0][0],r=+t[1][0],e=+t[0][1],o=+t[1][1],d):[[n,e],[r,o]]},d.iterations=function(t){return arguments.length?(h=+t,d):h},d}C.prototype=function(t,n){var e=new C;if(t instanceof C)t.each((function(t){e.add(t)}));else if(t){var r=-1,i=t.length;if(null==n)for(;++r<i;)e.add(t[r]);else for(;++r<i;)e.add(n(t[r],r,t))}return e}.prototype={constructor:C,has:D.has,add:function(t){return this["$"+(t+="")]=t,this},remove:D.remove,clear:D.clear,values:D.keys,size:D.size,empty:D.empty,each:D.each};var j=Math.PI,X=2*j,B=X-1e-6;function V(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function G(){return new V}V.prototype=G.prototype={constructor:V,moveTo:function(t,n){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+n)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,n){this._+="L"+(this._x1=+t)+","+(this._y1=+n)},quadraticCurveTo:function(t,n,e,r){this._+="Q"+ +t+","+ +n+","+(this._x1=+e)+","+(this._y1=+r)},bezierCurveTo:function(t,n,e,r,i,o){this._+="C"+ +t+","+ +n+","+ +e+","+ +r+","+(this._x1=+i)+","+(this._y1=+o)},arcTo:function(t,n,e,r,i){t=+t,n=+n,e=+e,r=+r,i=+i;var o=this._x1,u=this._y1,a=e-t,c=r-n,s=o-t,f=u-n,l=s*s+f*f;if(i<0)throw new Error("negative radius: "+i);if(null===this._x1)this._+="M"+(this._x1=t)+","+(this._y1=n);else if(l>1e-6)if(Math.abs(f*a-c*s)>1e-6&&i){var h=e-o,d=r-u,p=a*a+c*c,g=h*h+d*d,v=Math.sqrt(p),y=Math.sqrt(l),_=i*Math.tan((j-Math.acos((p+l-g)/(2*v*y)))/2),m=_/y,w=_/v;Math.abs(m-1)>1e-6&&(this._+="L"+(t+m*s)+","+(n+m*f)),this._+="A"+i+","+i+",0,0,"+ +(f*h>s*d)+","+(this._x1=t+w*a)+","+(this._y1=n+w*c)}else this._+="L"+(this._x1=t)+","+(this._y1=n)},arc:function(t,n,e,r,i,o){t=+t,n=+n,o=!!o;var u=(e=+e)*Math.cos(r),a=e*Math.sin(r),c=t+u,s=n+a,f=1^o,l=o?r-i:i-r;if(e<0)throw new Error("negative radius: "+e);null===this._x1?this._+="M"+c+","+s:(Math.abs(this._x1-c)>1e-6||Math.abs(this._y1-s)>1e-6)&&(this._+="L"+c+","+s),e&&(l<0&&(l=l%X+X),l>B?this._+="A"+e+","+e+",0,1,"+f+","+(t-u)+","+(n-a)+"A"+e+","+e+",0,1,"+f+","+(this._x1=c)+","+(this._y1=s):l>1e-6&&(this._+="A"+e+","+e+",0,"+ +(l>=j)+","+f+","+(this._x1=t+e*Math.cos(i))+","+(this._y1=n+e*Math.sin(i))))},rect:function(t,n,e,r){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+n)+"h"+ +e+"v"+ +r+"h"+-e+"Z"},toString:function(){return this._}};var W=G,Z=Array.prototype.slice,J=function(t){return function(){return t}};function Q(t){return t[0]}function K(t){return t[1]}function tt(t){return t.source}function nt(t){return t.target}function et(t,n,e,r,i){t.moveTo(n,e),t.bezierCurveTo(n=(n+r)/2,e,n,i,r,i)}function rt(t){return[t.source.x1,t.y0]}function it(t){return[t.target.x0,t.y1]}var ot=function(){return function(t){var n=tt,e=nt,r=Q,i=K,o=null;function u(){var u,a=Z.call(arguments),c=n.apply(this,a),s=e.apply(this,a);if(o||(o=u=W()),t(o,+r.apply(this,(a[0]=c,a)),+i.apply(this,a),+r.apply(this,(a[0]=s,a)),+i.apply(this,a)),u)return o=null,u+""||null}return u.source=function(t){return arguments.length?(n=t,u):n},u.target=function(t){return arguments.length?(e=t,u):e},u.x=function(t){return arguments.length?(r="function"==typeof t?t:J(+t),u):r},u.y=function(t){return arguments.length?(i="function"==typeof t?t:J(+t),u):i},u.context=function(t){return arguments.length?(o=null==t?null:t,u):o},u}(et).source(rt).target(it)},ut="4.13.0",at=function(t,n){return t<n?-1:t>n?1:t>=n?0:NaN},ct=function(t){return 1===t.length&&(t=function(t){return function(n,e){return at(t(n),e)}}(t)),{left:function(n,e,r,i){for(null==r&&(r=0),null==i&&(i=n.length);r<i;){var o=r+i>>>1;t(n[o],e)<0?r=o+1:i=o}return r},right:function(n,e,r,i){for(null==r&&(r=0),null==i&&(i=n.length);r<i;){var o=r+i>>>1;t(n[o],e)>0?i=o:r=o+1}return r}}},st=ct(at),ft=st.right,lt=st.left,ht=ft,dt=function(t,n){null==n&&(n=pt);for(var e=0,r=t.length-1,i=t[0],o=new Array(r<0?0:r);e<r;)o[e]=n(i,i=t[++e]);return o};function pt(t,n){return[t,n]}var gt=function(t,n,e){var r,i,o,u,a=t.length,c=n.length,s=new Array(a*c);for(null==e&&(e=pt),r=o=0;r<a;++r)for(u=t[r],i=0;i<c;++i,++o)s[o]=e(u,n[i]);return s},vt=function(t,n){return n<t?-1:n>t?1:n>=t?0:NaN},yt=function(t){return null===t?NaN:+t},_t=function(t,n){var e,r,i=t.length,o=0,u=-1,a=0,c=0;if(null==n)for(;++u<i;)isNaN(e=yt(t[u]))||(c+=(r=e-a)*(e-(a+=r/++o)));else for(;++u<i;)isNaN(e=yt(n(t[u],u,t)))||(c+=(r=e-a)*(e-(a+=r/++o)));if(o>1)return c/(o-1)},mt=function(t,n){var e=_t(t,n);return e?Math.sqrt(e):e},wt=function(t,n){var e,r,i,o=t.length,u=-1;if(null==n){for(;++u<o;)if(null!=(e=t[u])&&e>=e)for(r=i=e;++u<o;)null!=(e=t[u])&&(r>e&&(r=e),i<e&&(i=e))}else for(;++u<o;)if(null!=(e=n(t[u],u,t))&&e>=e)for(r=i=e;++u<o;)null!=(e=n(t[u],u,t))&&(r>e&&(r=e),i<e&&(i=e));return[r,i]},xt=Array.prototype,bt=xt.slice,Mt=xt.map,kt=function(t){return function(){return t}},At=function(t){return t},Nt=function(t,n,e){t=+t,n=+n,e=(i=arguments.length)<2?(n=t,t=0,1):i<3?1:+e;for(var r=-1,i=0|Math.max(0,Math.ceil((n-t)/e)),o=new Array(i);++r<i;)o[r]=t+r*e;return o},Et=Math.sqrt(50),Tt=Math.sqrt(10),St=Math.sqrt(2),Ct=function(t,n,e){var r,i,o,u,a=-1;if(e=+e,(t=+t)==(n=+n)&&e>0)return[t];if((r=n<t)&&(i=t,t=n,n=i),0===(u=Dt(t,n,e))||!isFinite(u))return[];if(u>0)for(t=Math.ceil(t/u),n=Math.floor(n/u),o=new Array(i=Math.ceil(n-t+1));++a<i;)o[a]=(t+a)*u;else for(t=Math.floor(t*u),n=Math.ceil(n*u),o=new Array(i=Math.ceil(t-n+1));++a<i;)o[a]=(t-a)/u;return r&&o.reverse(),o};function Dt(t,n,e){var r=(n-t)/Math.max(0,e),i=Math.floor(Math.log(r)/Math.LN10),o=r/Math.pow(10,i);return i>=0?(o>=Et?10:o>=Tt?5:o>=St?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(o>=Et?10:o>=Tt?5:o>=St?2:1)}function Pt(t,n,e){var r=Math.abs(n-t)/Math.max(0,e),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),o=r/i;return o>=Et?i*=10:o>=Tt?i*=5:o>=St&&(i*=2),n<t?-i:i}var Lt=function(t){return Math.ceil(Math.log(t.length)/Math.LN2)+1},Ot=function(){var t=At,n=wt,e=Lt;function r(r){var i,o,u=r.length,a=new Array(u);for(i=0;i<u;++i)a[i]=t(r[i],i,r);var c=n(a),s=c[0],f=c[1],l=e(a,s,f);Array.isArray(l)||(l=Pt(s,f,l),l=Nt(Math.ceil(s/l)*l,Math.floor(f/l)*l,l));for(var h=l.length;l[0]<=s;)l.shift(),--h;for(;l[h-1]>f;)l.pop(),--h;var d,p=new Array(h+1);for(i=0;i<=h;++i)(d=p[i]=[]).x0=i>0?l[i-1]:s,d.x1=i<h?l[i]:f;for(i=0;i<u;++i)s<=(o=a[i])&&o<=f&&p[ht(l,o,0,h)].push(r[i]);return p}return r.value=function(n){return arguments.length?(t="function"==typeof n?n:kt(n),r):t},r.domain=function(t){return arguments.length?(n="function"==typeof t?t:kt([t[0],t[1]]),r):n},r.thresholds=function(t){return arguments.length?(e="function"==typeof t?t:Array.isArray(t)?kt(bt.call(t)):kt(t),r):e},r},Ut=function(t,n,e){if(null==e&&(e=yt),r=t.length){if((n=+n)<=0||r<2)return+e(t[0],0,t);if(n>=1)return+e(t[r-1],r-1,t);var r,i=(r-1)*n,o=Math.floor(i),u=+e(t[o],o,t);return u+(+e(t[o+1],o+1,t)-u)*(i-o)}},zt=function(t,n,e){return t=Mt.call(t,yt).sort(at),Math.ceil((e-n)/(2*(Ut(t,.75)-Ut(t,.25))*Math.pow(t.length,-1/3)))},qt=function(t,n,e){return Math.ceil((e-n)/(3.5*mt(t)*Math.pow(t.length,-1/3)))},Rt=function(t,n){var e,r,i=t.length,o=-1;if(null==n){for(;++o<i;)if(null!=(e=t[o])&&e>=e)for(r=e;++o<i;)null!=(e=t[o])&&e>r&&(r=e)}else for(;++o<i;)if(null!=(e=n(t[o],o,t))&&e>=e)for(r=e;++o<i;)null!=(e=n(t[o],o,t))&&e>r&&(r=e);return r},$t=function(t,n){var e,r=t.length,i=r,o=-1,u=0;if(null==n)for(;++o<r;)isNaN(e=yt(t[o]))?--i:u+=e;else for(;++o<r;)isNaN(e=yt(n(t[o],o,t)))?--i:u+=e;if(i)return u/i},Ft=function(t,n){var e,r=t.length,i=-1,o=[];if(null==n)for(;++i<r;)isNaN(e=yt(t[i]))||o.push(e);else for(;++i<r;)isNaN(e=yt(n(t[i],i,t)))||o.push(e);return Ut(o.sort(at),.5)},Ht=function(t){for(var n,e,r,i=t.length,o=-1,u=0;++o<i;)u+=t[o].length;for(e=new Array(u);--i>=0;)for(n=(r=t[i]).length;--n>=0;)e[--u]=r[n];return e},Yt=function(t,n){var e,r,i=t.length,o=-1;if(null==n){for(;++o<i;)if(null!=(e=t[o])&&e>=e)for(r=e;++o<i;)null!=(e=t[o])&&r>e&&(r=e)}else for(;++o<i;)if(null!=(e=n(t[o],o,t))&&e>=e)for(r=e;++o<i;)null!=(e=n(t[o],o,t))&&r>e&&(r=e);return r},It=function(t,n){for(var e=n.length,r=new Array(e);e--;)r[e]=t[n[e]];return r},jt=function(t,n){if(e=t.length){var e,r,i=0,o=0,u=t[o];for(null==n&&(n=at);++i<e;)(n(r=t[i],u)<0||0!==n(u,u))&&(u=r,o=i);return 0===n(u,u)?o:void 0}},Xt=function(t,n,e){for(var r,i,o=(null==e?t.length:e)-(n=null==n?0:+n);o;)i=Math.random()*o--|0,r=t[o+n],t[o+n]=t[i+n],t[i+n]=r;return t},Bt=function(t,n){var e,r=t.length,i=-1,o=0;if(null==n)for(;++i<r;)(e=+t[i])&&(o+=e);else for(;++i<r;)(e=+n(t[i],i,t))&&(o+=e);return o},Vt=function(t){if(!(i=t.length))return[];for(var n=-1,e=Yt(t,Gt),r=new Array(e);++n<e;)for(var i,o=-1,u=r[n]=new Array(i);++o<i;)u[o]=t[o][n];return r};function Gt(t){return t.length}var Wt=function(){return Vt(arguments)},Zt=Array.prototype.slice,Jt=function(t){return t};function Qt(t){return"translate("+(t+.5)+",0)"}function Kt(t){return"translate(0,"+(t+.5)+")"}function tn(){return!this.__axis}function nn(t,n){var e=[],r=null,i=null,o=6,u=6,a=3,c=1===t||4===t?-1:1,s=4===t||2===t?"x":"y",f=1===t||3===t?Qt:Kt;function l(l){var h=null==r?n.ticks?n.ticks.apply(n,e):n.domain():r,d=null==i?n.tickFormat?n.tickFormat.apply(n,e):Jt:i,p=Math.max(o,0)+a,g=n.range(),v=+g[0]+.5,y=+g[g.length-1]+.5,_=(n.bandwidth?function(t){var n=Math.max(0,t.bandwidth()-1)/2;return t.round()&&(n=Math.round(n)),function(e){return+t(e)+n}}:function(t){return function(n){return+t(n)}})(n.copy()),m=l.selection?l.selection():l,w=m.selectAll(".domain").data([null]),x=m.selectAll(".tick").data(h,n).order(),b=x.exit(),M=x.enter().append("g").attr("class","tick"),k=x.select("line"),A=x.select("text");w=w.merge(w.enter().insert("path",".tick").attr("class","domain").attr("stroke","#000")),x=x.merge(M),k=k.merge(M.append("line").attr("stroke","#000").attr(s+"2",c*o)),A=A.merge(M.append("text").attr("fill","#000").attr(s,c*p).attr("dy",1===t?"0em":3===t?"0.71em":"0.32em")),l!==m&&(w=w.transition(l),x=x.transition(l),k=k.transition(l),A=A.transition(l),b=b.transition(l).attr("opacity",1e-6).attr("transform",(function(t){return isFinite(t=_(t))?f(t):this.getAttribute("transform")})),M.attr("opacity",1e-6).attr("transform",(function(t){var n=this.parentNode.__axis;return f(n&&isFinite(n=n(t))?n:_(t))}))),b.remove(),w.attr("d",4===t||2==t?"M"+c*u+","+v+"H0.5V"+y+"H"+c*u:"M"+v+","+c*u+"V0.5H"+y+"V"+c*u),x.attr("opacity",1).attr("transform",(function(t){return f(_(t))})),k.attr(s+"2",c*o),A.attr(s,c*p).text(d),m.filter(tn).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",2===t?"start":4===t?"end":"middle"),m.each((function(){this.__axis=_}))}return l.scale=function(t){return arguments.length?(n=t,l):n},l.ticks=function(){return e=Zt.call(arguments),l},l.tickArguments=function(t){return arguments.length?(e=null==t?[]:Zt.call(t),l):e.slice()},l.tickValues=function(t){return arguments.length?(r=null==t?null:Zt.call(t),l):r&&r.slice()},l.tickFormat=function(t){return arguments.length?(i=t,l):i},l.tickSize=function(t){return arguments.length?(o=u=+t,l):o},l.tickSizeInner=function(t){return arguments.length?(o=+t,l):o},l.tickSizeOuter=function(t){return arguments.length?(u=+t,l):u},l.tickPadding=function(t){return arguments.length?(a=+t,l):a},l}function en(t){return nn(1,t)}function rn(t){return nn(2,t)}function on(t){return nn(3,t)}function un(t){return nn(4,t)}var an={value:function(){}};function cn(){for(var t,n=0,e=arguments.length,r={};n<e;++n){if(!(t=arguments[n]+"")||t in r||/[\s.]/.test(t))throw new Error("illegal type: "+t);r[t]=[]}return new sn(r)}function sn(t){this._=t}function fn(t,n){for(var e,r=0,i=t.length;r<i;++r)if((e=t[r]).name===n)return e.value}function ln(t,n,e){for(var r=0,i=t.length;r<i;++r)if(t[r].name===n){t[r]=an,t=t.slice(0,r).concat(t.slice(r+1));break}return null!=e&&t.push({name:n,value:e}),t}sn.prototype=cn.prototype={constructor:sn,on:function(t,n){var e,r=this._,i=function(t,n){return t.trim().split(/^|\s+/).map((function(t){var e="",r=t.indexOf(".");if(r>=0&&(e=t.slice(r+1),t=t.slice(0,r)),t&&!n.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:e}}))}(t+"",r),o=-1,u=i.length;if(!(arguments.length<2)){if(null!=n&&"function"!=typeof n)throw new Error("invalid callback: "+n);for(;++o<u;)if(e=(t=i[o]).type)r[e]=ln(r[e],t.name,n);else if(null==n)for(e in r)r[e]=ln(r[e],t.name,null);return this}for(;++o<u;)if((e=(t=i[o]).type)&&(e=fn(r[e],t.name)))return e},copy:function(){var t={},n=this._;for(var e in n)t[e]=n[e].slice();return new sn(t)},call:function(t,n){if((e=arguments.length-2)>0)for(var e,r,i=new Array(e),o=0;o<e;++o)i[o]=arguments[o+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=0,e=(r=this._[t]).length;o<e;++o)r[o].value.apply(n,i)},apply:function(t,n,e){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(n,e)}};var hn=cn;function dn(){}var pn=function(t){return null==t?dn:function(){return this.querySelector(t)}};function gn(){return[]}var vn=function(t){return null==t?gn:function(){return this.querySelectorAll(t)}},yn=function(t){return function(){return this.matches(t)}},_n=function(t){return new Array(t.length)};function mn(t,n){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=n}mn.prototype={constructor:mn,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,n){return this._parent.insertBefore(t,n)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function wn(t,n,e,r,i,o){for(var u,a=0,c=n.length,s=o.length;a<s;++a)(u=n[a])?(u.__data__=o[a],r[a]=u):e[a]=new mn(t,o[a]);for(;a<c;++a)(u=n[a])&&(i[a]=u)}function xn(t,n,e,r,i,o,u){var a,c,s,f={},l=n.length,h=o.length,d=new Array(l);for(a=0;a<l;++a)(c=n[a])&&(d[a]=s="$"+u.call(c,c.__data__,a,n),s in f?i[a]=c:f[s]=c);for(a=0;a<h;++a)(c=f[s="$"+u.call(t,o[a],a,o)])?(r[a]=c,c.__data__=o[a],f[s]=null):e[a]=new mn(t,o[a]);for(a=0;a<l;++a)(c=n[a])&&f[d[a]]===c&&(i[a]=c)}function bn(t,n){return t<n?-1:t>n?1:t>=n?0:NaN}var Mn="http://www.w3.org/1999/xhtml",kn={svg:"http://www.w3.org/2000/svg",xhtml:Mn,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},An=function(t){var n=t+="",e=n.indexOf(":");return e>=0&&"xmlns"!==(n=t.slice(0,e))&&(t=t.slice(e+1)),kn.hasOwnProperty(n)?{space:kn[n],local:t}:t},Nn=function(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView};function En(t,n){return t.style.getPropertyValue(n)||Nn(t).getComputedStyle(t,null).getPropertyValue(n)}function Tn(t){return t.trim().split(/^|\s+/)}function Sn(t){return t.classList||new Cn(t)}function Cn(t){this._node=t,this._names=Tn(t.getAttribute("class")||"")}function Dn(t,n){for(var e=Sn(t),r=-1,i=n.length;++r<i;)e.add(n[r])}function Pn(t,n){for(var e=Sn(t),r=-1,i=n.length;++r<i;)e.remove(n[r])}function Ln(){this.textContent=""}function On(){this.innerHTML=""}function Un(){this.nextSibling&&this.parentNode.appendChild(this)}function zn(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}Cn.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var n=this._names.indexOf(t);n>=0&&(this._names.splice(n,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var qn=function(t){var n=An(t);return(n.local?function(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}:function(t){return function(){var n=this.ownerDocument,e=this.namespaceURI;return e===Mn&&n.documentElement.namespaceURI===Mn?n.createElement(t):n.createElementNS(e,t)}})(n)};function Rn(){return null}function $n(){var t=this.parentNode;t&&t.removeChild(this)}function Fn(){var t=this.cloneNode(!1),n=this.parentNode;return n?n.insertBefore(t,this.nextSibling):t}function Hn(){var t=this.cloneNode(!0),n=this.parentNode;return n?n.insertBefore(t,this.nextSibling):t}var Yn={},In=null;function jn(t,n,e){return t=Xn(t,n,e),function(n){var e=n.relatedTarget;e&&(e===this||8&e.compareDocumentPosition(this))||t.call(this,n)}}function Xn(t,n,e){return function(r){var i=In;In=r;try{t.call(this,this.__data__,n,e)}finally{In=i}}}function Bn(t){return function(){var n=this.__on;if(n){for(var e,r=0,i=-1,o=n.length;r<o;++r)e=n[r],t.type&&e.type!==t.type||e.name!==t.name?n[++i]=e:this.removeEventListener(e.type,e.listener,e.capture);++i?n.length=i:delete this.__on}}}function Vn(t,n,e){var r=Yn.hasOwnProperty(t.type)?jn:Xn;return function(i,o,u){var a,c=this.__on,s=r(n,o,u);if(c)for(var f=0,l=c.length;f<l;++f)if((a=c[f]).type===t.type&&a.name===t.name)return this.removeEventListener(a.type,a.listener,a.capture),this.addEventListener(a.type,a.listener=s,a.capture=e),void(a.value=n);this.addEventListener(t.type,s,e),a={type:t.type,name:t.name,value:n,listener:s,capture:e},c?c.push(a):this.__on=[a]}}function Gn(t,n,e,r){var i=In;t.sourceEvent=In,In=t;try{return n.apply(e,r)}finally{In=i}}function Wn(t,n,e){var r=Nn(t),i=r.CustomEvent;"function"==typeof i?i=new i(n,e):(i=r.document.createEvent("Event"),e?(i.initEvent(n,e.bubbles,e.cancelable),i.detail=e.detail):i.initEvent(n,!1,!1)),t.dispatchEvent(i)}"undefined"!=typeof document&&("onmouseenter"in document.documentElement||(Yn={mouseenter:"mouseover",mouseleave:"mouseout"}));var Zn=[null];function Jn(t,n){this._groups=t,this._parents=n}function Qn(){return new Jn([[document.documentElement]],Zn)}Jn.prototype=Qn.prototype={constructor:Jn,select:function(t){"function"!=typeof t&&(t=pn(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var o,u,a=n[i],c=a.length,s=r[i]=new Array(c),f=0;f<c;++f)(o=a[f])&&(u=t.call(o,o.__data__,f,a))&&("__data__"in o&&(u.__data__=o.__data__),s[f]=u);return new Jn(r,this._parents)},selectAll:function(t){"function"!=typeof t&&(t=vn(t));for(var n=this._groups,e=n.length,r=[],i=[],o=0;o<e;++o)for(var u,a=n[o],c=a.length,s=0;s<c;++s)(u=a[s])&&(r.push(t.call(u,u.__data__,s,a)),i.push(u));return new Jn(r,i)},filter:function(t){"function"!=typeof t&&(t=yn(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var o,u=n[i],a=u.length,c=r[i]=[],s=0;s<a;++s)(o=u[s])&&t.call(o,o.__data__,s,u)&&c.push(o);return new Jn(r,this._parents)},data:function(t,n){if(!t)return d=new Array(this.size()),s=-1,this.each((function(t){d[++s]=t})),d;var e=n?xn:wn,r=this._parents,i=this._groups;"function"!=typeof t&&(t=function(t){return function(){return t}}(t));for(var o=i.length,u=new Array(o),a=new Array(o),c=new Array(o),s=0;s<o;++s){var f=r[s],l=i[s],h=l.length,d=t.call(f,f&&f.__data__,s,r),p=d.length,g=a[s]=new Array(p),v=u[s]=new Array(p);e(f,l,g,v,c[s]=new Array(h),d,n);for(var y,_,m=0,w=0;m<p;++m)if(y=g[m]){for(m>=w&&(w=m+1);!(_=v[w])&&++w<p;);y._next=_||null}}return(u=new Jn(u,r))._enter=a,u._exit=c,u},enter:function(){return new Jn(this._enter||this._groups.map(_n),this._parents)},exit:function(){return new Jn(this._exit||this._groups.map(_n),this._parents)},join:function(t,n,e){var r=this.enter(),i=this,o=this.exit();return r="function"==typeof t?t(r):r.append(t+""),null!=n&&(i=n(i)),null==e?o.remove():e(o),r&&i?r.merge(i).order():i},merge:function(t){for(var n=this._groups,e=t._groups,r=n.length,i=e.length,o=Math.min(r,i),u=new Array(r),a=0;a<o;++a)for(var c,s=n[a],f=e[a],l=s.length,h=u[a]=new Array(l),d=0;d<l;++d)(c=s[d]||f[d])&&(h[d]=c);for(;a<r;++a)u[a]=n[a];return new Jn(u,this._parents)},order:function(){for(var t=this._groups,n=-1,e=t.length;++n<e;)for(var r,i=t[n],o=i.length-1,u=i[o];--o>=0;)(r=i[o])&&(u&&4^r.compareDocumentPosition(u)&&u.parentNode.insertBefore(r,u),u=r);return this},sort:function(t){function n(n,e){return n&&e?t(n.__data__,e.__data__):!n-!e}t||(t=bn);for(var e=this._groups,r=e.length,i=new Array(r),o=0;o<r;++o){for(var u,a=e[o],c=a.length,s=i[o]=new Array(c),f=0;f<c;++f)(u=a[f])&&(s[f]=u);s.sort(n)}return new Jn(i,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){var t=new Array(this.size()),n=-1;return this.each((function(){t[++n]=this})),t},node:function(){for(var t=this._groups,n=0,e=t.length;n<e;++n)for(var r=t[n],i=0,o=r.length;i<o;++i){var u=r[i];if(u)return u}return null},size:function(){var t=0;return this.each((function(){++t})),t},empty:function(){return!this.node()},each:function(t){for(var n=this._groups,e=0,r=n.length;e<r;++e)for(var i,o=n[e],u=0,a=o.length;u<a;++u)(i=o[u])&&t.call(i,i.__data__,u,o);return this},attr:function(t,n){var e=An(t);if(arguments.length<2){var r=this.node();return e.local?r.getAttributeNS(e.space,e.local):r.getAttribute(e)}return this.each((null==n?e.local?function(t){return function(){this.removeAttributeNS(t.space,t.local)}}:function(t){return function(){this.removeAttribute(t)}}:"function"==typeof n?e.local?function(t,n){return function(){var e=n.apply(this,arguments);null==e?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,e)}}:function(t,n){return function(){var e=n.apply(this,arguments);null==e?this.removeAttribute(t):this.setAttribute(t,e)}}:e.local?function(t,n){return function(){this.setAttributeNS(t.space,t.local,n)}}:function(t,n){return function(){this.setAttribute(t,n)}})(e,n))},style:function(t,n,e){return arguments.length>1?this.each((null==n?function(t){return function(){this.style.removeProperty(t)}}:"function"==typeof n?function(t,n,e){return function(){var r=n.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,e)}}:function(t,n,e){return function(){this.style.setProperty(t,n,e)}})(t,n,null==e?"":e)):En(this.node(),t)},property:function(t,n){return arguments.length>1?this.each((null==n?function(t){return function(){delete this[t]}}:"function"==typeof n?function(t,n){return function(){var e=n.apply(this,arguments);null==e?delete this[t]:this[t]=e}}:function(t,n){return function(){this[t]=n}})(t,n)):this.node()[t]},classed:function(t,n){var e=Tn(t+"");if(arguments.length<2){for(var r=Sn(this.node()),i=-1,o=e.length;++i<o;)if(!r.contains(e[i]))return!1;return!0}return this.each(("function"==typeof n?function(t,n){return function(){(n.apply(this,arguments)?Dn:Pn)(this,t)}}:n?function(t){return function(){Dn(this,t)}}:function(t){return function(){Pn(this,t)}})(e,n))},text:function(t){return arguments.length?this.each(null==t?Ln:("function"==typeof t?function(t){return function(){var n=t.apply(this,arguments);this.textContent=null==n?"":n}}:function(t){return function(){this.textContent=t}})(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?On:("function"==typeof t?function(t){return function(){var n=t.apply(this,arguments);this.innerHTML=null==n?"":n}}:function(t){return function(){this.innerHTML=t}})(t)):this.node().innerHTML},raise:function(){return this.each(Un)},lower:function(){return this.each(zn)},append:function(t){var n="function"==typeof t?t:qn(t);return this.select((function(){return this.appendChild(n.apply(this,arguments))}))},insert:function(t,n){var e="function"==typeof t?t:qn(t),r=null==n?Rn:"function"==typeof n?n:pn(n);return this.select((function(){return this.insertBefore(e.apply(this,arguments),r.apply(this,arguments)||null)}))},remove:function(){return this.each($n)},clone:function(t){return this.select(t?Hn:Fn)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,n,e){var r,i,o=function(t){return t.trim().split(/^|\s+/).map((function(t){var n="",e=t.indexOf(".");return e>=0&&(n=t.slice(e+1),t=t.slice(0,e)),{type:t,name:n}}))}(t+""),u=o.length;if(!(arguments.length<2)){for(a=n?Vn:Bn,null==e&&(e=!1),r=0;r<u;++r)this.each(a(o[r],n,e));return this}var a=this.node().__on;if(a)for(var c,s=0,f=a.length;s<f;++s)for(r=0,c=a[s];r<u;++r)if((i=o[r]).type===c.type&&i.name===c.name)return c.value},dispatch:function(t,n){return this.each(("function"==typeof n?function(t,n){return function(){return Wn(this,t,n.apply(this,arguments))}}:function(t,n){return function(){return Wn(this,t,n)}})(t,n))}};var Kn=Qn,te=function(t){return"string"==typeof t?new Jn([[document.querySelector(t)]],[document.documentElement]):new Jn([[t]],Zn)},ne=function(){In.preventDefault(),In.stopImmediatePropagation()},ee=function(t){var n=t.document.documentElement,e=te(t).on("dragstart.drag",ne,!0);"onselectstart"in n?e.on("selectstart.drag",ne,!0):(n.__noselect=n.style.MozUserSelect,n.style.MozUserSelect="none")};function re(t,n){var e=t.document.documentElement,r=te(t).on("dragstart.drag",null);n&&(r.on("click.drag",ne,!0),setTimeout((function(){r.on("click.drag",null)}),0)),"onselectstart"in e?r.on("selectstart.drag",null):(e.style.MozUserSelect=e.__noselect,delete e.__noselect)}var ie=function(t,n,e){t.prototype=n.prototype=e,e.constructor=t};function oe(t,n){var e=Object.create(t.prototype);for(var r in n)e[r]=n[r];return e}function ue(){}var ae="\\s*([+-]?\\d+)\\s*",ce="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",se="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",fe=/^#([0-9a-f]{3,8})$/,le=new RegExp("^rgb\\("+[ae,ae,ae]+"\\)$"),he=new RegExp("^rgb\\("+[se,se,se]+"\\)$"),de=new RegExp("^rgba\\("+[ae,ae,ae,ce]+"\\)$"),pe=new RegExp("^rgba\\("+[se,se,se,ce]+"\\)$"),ge=new RegExp("^hsl\\("+[ce,se,se]+"\\)$"),ve=new RegExp("^hsla\\("+[ce,se,se,ce]+"\\)$"),ye={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function _e(){return this.rgb().formatHex()}function me(){return this.rgb().formatRgb()}function we(t){var n,e;return t=(t+"").trim().toLowerCase(),(n=fe.exec(t))?(e=n[1].length,n=parseInt(n[1],16),6===e?xe(n):3===e?new Ae(n>>8&15|n>>4&240,n>>4&15|240&n,(15&n)<<4|15&n,1):8===e?be(n>>24&255,n>>16&255,n>>8&255,(255&n)/255):4===e?be(n>>12&15|n>>8&240,n>>8&15|n>>4&240,n>>4&15|240&n,((15&n)<<4|15&n)/255):null):(n=le.exec(t))?new Ae(n[1],n[2],n[3],1):(n=he.exec(t))?new Ae(255*n[1]/100,255*n[2]/100,255*n[3]/100,1):(n=de.exec(t))?be(n[1],n[2],n[3],n[4]):(n=pe.exec(t))?be(255*n[1]/100,255*n[2]/100,255*n[3]/100,n[4]):(n=ge.exec(t))?Se(n[1],n[2]/100,n[3]/100,1):(n=ve.exec(t))?Se(n[1],n[2]/100,n[3]/100,n[4]):ye.hasOwnProperty(t)?xe(ye[t]):"transparent"===t?new Ae(NaN,NaN,NaN,0):null}function xe(t){return new Ae(t>>16&255,t>>8&255,255&t,1)}function be(t,n,e,r){return r<=0&&(t=n=e=NaN),new Ae(t,n,e,r)}function Me(t){return t instanceof ue||(t=we(t)),t?new Ae((t=t.rgb()).r,t.g,t.b,t.opacity):new Ae}function ke(t,n,e,r){return 1===arguments.length?Me(t):new Ae(t,n,e,null==r?1:r)}function Ae(t,n,e,r){this.r=+t,this.g=+n,this.b=+e,this.opacity=+r}function Ne(){return"#"+Te(this.r)+Te(this.g)+Te(this.b)}function Ee(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}function Te(t){return((t=Math.max(0,Math.min(255,Math.round(t)||0)))<16?"0":"")+t.toString(16)}function Se(t,n,e,r){return r<=0?t=n=e=NaN:e<=0||e>=1?t=n=NaN:n<=0&&(t=NaN),new De(t,n,e,r)}function Ce(t){if(t instanceof De)return new De(t.h,t.s,t.l,t.opacity);if(t instanceof ue||(t=we(t)),!t)return new De;if(t instanceof De)return t;var n=(t=t.rgb()).r/255,e=t.g/255,r=t.b/255,i=Math.min(n,e,r),o=Math.max(n,e,r),u=NaN,a=o-i,c=(o+i)/2;return a?(u=n===o?(e-r)/a+6*(e<r):e===o?(r-n)/a+2:(n-e)/a+4,a/=c<.5?o+i:2-o-i,u*=60):a=c>0&&c<1?0:u,new De(u,a,c,t.opacity)}function De(t,n,e,r){this.h=+t,this.s=+n,this.l=+e,this.opacity=+r}function Pe(t,n,e){return 255*(t<60?n+(e-n)*t/60:t<180?e:t<240?n+(e-n)*(240-t)/60:n)}function Le(t,n,e,r,i){var o=t*t,u=o*t;return((1-3*t+3*o-u)*n+(4-6*o+3*u)*e+(1+3*t+3*o-3*u)*r+u*i)/6}ie(ue,we,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:_e,formatHex:_e,formatHsl:function(){return Ce(this).formatHsl()},formatRgb:me,toString:me}),ie(Ae,ke,oe(ue,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new Ae(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new Ae(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Ne,formatHex:Ne,formatRgb:Ee,toString:Ee})),ie(De,(function(t,n,e,r){return 1===arguments.length?Ce(t):new De(t,n,e,null==r?1:r)}),oe(ue,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new De(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new De(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),n=isNaN(t)||isNaN(this.s)?0:this.s,e=this.l,r=e+(e<.5?e:1-e)*n,i=2*e-r;return new Ae(Pe(t>=240?t-240:t+120,i,r),Pe(t,i,r),Pe(t<120?t+240:t-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===t?")":", "+t+")")}}));var Oe=function(t){return function(){return t}};function Ue(t,n){return function(e){return t+e*n}}function ze(t,n){var e=n-t;return e?Ue(t,e):Oe(isNaN(t)?n:t)}var qe=function t(n){var e=function(t){return 1==(t=+t)?ze:function(n,e){return e-n?function(t,n,e){return t=Math.pow(t,e),n=Math.pow(n,e)-t,e=1/e,function(r){return Math.pow(t+r*n,e)}}(n,e,t):Oe(isNaN(n)?e:n)}}(n);function r(t,n){var r=e((t=ke(t)).r,(n=ke(n)).r),i=e(t.g,n.g),o=e(t.b,n.b),u=ze(t.opacity,n.opacity);return function(n){return t.r=r(n),t.g=i(n),t.b=o(n),t.opacity=u(n),t+""}}return r.gamma=t,r}(1);function Re(t){return function(n){var e,r,i=n.length,o=new Array(i),u=new Array(i),a=new Array(i);for(e=0;e<i;++e)r=ke(n[e]),o[e]=r.r||0,u[e]=r.g||0,a[e]=r.b||0;return o=t(o),u=t(u),a=t(a),r.opacity=1,function(t){return r.r=o(t),r.g=u(t),r.b=a(t),r+""}}}Re((function(t){var n=t.length-1;return function(e){var r=e<=0?e=0:e>=1?(e=1,n-1):Math.floor(e*n),i=t[r],o=t[r+1],u=r>0?t[r-1]:2*i-o,a=r<n-1?t[r+2]:2*o-i;return Le((e-r/n)*n,u,i,o,a)}})),Re((function(t){var n=t.length;return function(e){var r=Math.floor(((e%=1)<0?++e:e)*n),i=t[(r+n-1)%n],o=t[r%n],u=t[(r+1)%n],a=t[(r+2)%n];return Le((e-r/n)*n,i,o,u,a)}}));var $e=function(t,n){n||(n=[]);var e,r=t?Math.min(n.length,t.length):0,i=n.slice();return function(o){for(e=0;e<r;++e)i[e]=t[e]*(1-o)+n[e]*o;return i}};function Fe(t,n){var e,r=n?n.length:0,i=t?Math.min(r,t.length):0,o=new Array(i),u=new Array(r);for(e=0;e<i;++e)o[e]=Ve(t[e],n[e]);for(;e<r;++e)u[e]=n[e];return function(t){for(e=0;e<i;++e)u[e]=o[e](t);return u}}var He,Ye,Ie=function(t,n){return t=+t,n=+n,function(e){return t*(1-e)+n*e}},je=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Xe=new RegExp(je.source,"g"),Be=function(t,n){var e,r,i,o=je.lastIndex=Xe.lastIndex=0,u=-1,a=[],c=[];for(t+="",n+="";(e=je.exec(t))&&(r=Xe.exec(n));)(i=r.index)>o&&(i=n.slice(o,i),a[u]?a[u]+=i:a[++u]=i),(e=e[0])===(r=r[0])?a[u]?a[u]+=r:a[++u]=r:(a[++u]=null,c.push({i:u,x:Ie(e,r)})),o=Xe.lastIndex;return o<n.length&&(i=n.slice(o),a[u]?a[u]+=i:a[++u]=i),a.length<2?c[0]?function(t){return function(n){return t(n)+""}}(c[0].x):function(t){return function(){return t}}(n):(n=c.length,function(t){for(var e,r=0;r<n;++r)a[(e=c[r]).i]=e.x(t);return a.join("")})},Ve=function(t,n){var e,r=typeof n;return null==n||"boolean"===r?Oe(n):("number"===r?Ie:"string"===r?(e=we(n))?(n=e,qe):Be:n instanceof we?qe:n instanceof Date?function(t,n){var e=new Date;return t=+t,n=+n,function(r){return e.setTime(t*(1-r)+n*r),e}}:function(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}(n)?$e:Array.isArray(n)?Fe:"function"!=typeof n.valueOf&&"function"!=typeof n.toString||isNaN(n)?function(t,n){var e,r={},i={};for(e in null!==t&&"object"==typeof t||(t={}),null!==n&&"object"==typeof n||(n={}),n)e in t?r[e]=Ve(t[e],n[e]):i[e]=n[e];return function(t){for(e in r)i[e]=r[e](t);return i}}:Ie)(t,n)},Ge=function(){for(var t,n=In;t=n.sourceEvent;)n=t;return n},We=function(t,n){var e=t.ownerSVGElement||t;if(e.createSVGPoint){var r=e.createSVGPoint();return r.x=n.clientX,r.y=n.clientY,[(r=r.matrixTransform(t.getScreenCTM().inverse())).x,r.y]}var i=t.getBoundingClientRect();return[n.clientX-i.left-t.clientLeft,n.clientY-i.top-t.clientTop]},Ze=function(t){var n=Ge();return n.changedTouches&&(n=n.changedTouches[0]),We(t,n)},Je=0,Qe=0,Ke=0,tr=0,nr=0,er=0,rr="object"==typeof performance&&performance.now?performance:Date,ir="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function or(){return nr||(ir(ur),nr=rr.now()+er)}function ur(){nr=0}function ar(){this._call=this._time=this._next=null}function cr(t,n,e){var r=new ar;return r.restart(t,n,e),r}function sr(){nr=(tr=rr.now())+er,Je=Qe=0;try{!function(){or(),++Je;for(var t,n=He;n;)(t=nr-n._time)>=0&&n._call.call(null,t),n=n._next;--Je}()}finally{Je=0,function(){for(var t,n,e=He,r=1/0;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:He=n);Ye=t,lr(r)}(),nr=0}}function fr(){var t=rr.now(),n=t-tr;n>1e3&&(er-=n,tr=t)}function lr(t){Je||(Qe&&(Qe=clearTimeout(Qe)),t-nr>24?(t<1/0&&(Qe=setTimeout(sr,t-rr.now()-er)),Ke&&(Ke=clearInterval(Ke))):(Ke||(tr=rr.now(),Ke=setInterval(fr,1e3)),Je=1,ir(sr)))}ar.prototype=cr.prototype={constructor:ar,restart:function(t,n,e){if("function"!=typeof t)throw new TypeError("callback is not a function");e=(null==e?or():+e)+(null==n?0:+n),this._next||Ye===this||(Ye?Ye._next=this:He=this,Ye=this),this._call=t,this._time=e,lr()},stop:function(){this._call&&(this._call=null,this._time=1/0,lr())}};var hr=function(t,n,e){var r=new ar;return n=null==n?0:+n,r.restart((function(e){r.stop(),t(e+n)}),n,e),r},dr=hn("start","end","cancel","interrupt"),pr=[],gr=function(t,n,e,r,i,o){var u=t.__transition;if(u){if(e in u)return}else t.__transition={};!function(t,n,e){var r,i=t.__transition;function o(c){var s,f,l,h;if(1!==e.state)return a();for(s in i)if((h=i[s]).name===e.name){if(3===h.state)return hr(o);4===h.state?(h.state=6,h.timer.stop(),h.on.call("interrupt",t,t.__data__,h.index,h.group),delete i[s]):+s<n&&(h.state=6,h.timer.stop(),h.on.call("cancel",t,t.__data__,h.index,h.group),delete i[s])}if(hr((function(){3===e.state&&(e.state=4,e.timer.restart(u,e.delay,e.time),u(c))})),e.state=2,e.on.call("start",t,t.__data__,e.index,e.group),2===e.state){for(e.state=3,r=new Array(l=e.tween.length),s=0,f=-1;s<l;++s)(h=e.tween[s].value.call(t,t.__data__,e.index,e.group))&&(r[++f]=h);r.length=f+1}}function u(n){for(var i=n<e.duration?e.ease.call(null,n/e.duration):(e.timer.restart(a),e.state=5,1),o=-1,u=r.length;++o<u;)r[o].call(t,i);5===e.state&&(e.on.call("end",t,t.__data__,e.index,e.group),a())}function a(){for(var r in e.state=6,e.timer.stop(),delete i[n],i)return;delete t.__transition}i[n]=e,e.timer=cr((function(t){e.state=1,e.timer.restart(o,e.delay,e.time),e.delay<=t&&o(t-e.delay)}),0,e.time)}(t,e,{name:n,index:r,group:i,on:dr,tween:pr,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:0})};function vr(t,n){var e=_r(t,n);if(e.state>0)throw new Error("too late; already scheduled");return e}function yr(t,n){var e=_r(t,n);if(e.state>3)throw new Error("too late; already running");return e}function _r(t,n){var e=t.__transition;if(!e||!(e=e[n]))throw new Error("transition not found");return e}var mr,wr,xr,br,Mr=function(t,n){var e,r,i,o=t.__transition,u=!0;if(o){for(i in n=null==n?null:n+"",o)(e=o[i]).name===n?(r=e.state>2&&e.state<5,e.state=6,e.timer.stop(),e.on.call(r?"interrupt":"cancel",t,t.__data__,e.index,e.group),delete o[i]):u=!1;u&&delete t.__transition}},kr=180/Math.PI,Ar={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1},Nr=function(t,n,e,r,i,o){var u,a,c;return(u=Math.sqrt(t*t+n*n))&&(t/=u,n/=u),(c=t*e+n*r)&&(e-=t*c,r-=n*c),(a=Math.sqrt(e*e+r*r))&&(e/=a,r/=a,c/=a),t*r<n*e&&(t=-t,n=-n,c=-c,u=-u),{translateX:i,translateY:o,rotate:Math.atan2(n,t)*kr,skewX:Math.atan(c)*kr,scaleX:u,scaleY:a}};function Er(t,n,e,r){function i(t){return t.length?t.pop()+" ":""}return function(o,u){var a=[],c=[];return o=t(o),u=t(u),function(t,r,i,o,u,a){if(t!==i||r!==o){var c=u.push("translate(",null,n,null,e);a.push({i:c-4,x:Ie(t,i)},{i:c-2,x:Ie(r,o)})}else(i||o)&&u.push("translate("+i+n+o+e)}(o.translateX,o.translateY,u.translateX,u.translateY,a,c),function(t,n,e,o){t!==n?(t-n>180?n+=360:n-t>180&&(t+=360),o.push({i:e.push(i(e)+"rotate(",null,r)-2,x:Ie(t,n)})):n&&e.push(i(e)+"rotate("+n+r)}(o.rotate,u.rotate,a,c),function(t,n,e,o){t!==n?o.push({i:e.push(i(e)+"skewX(",null,r)-2,x:Ie(t,n)}):n&&e.push(i(e)+"skewX("+n+r)}(o.skewX,u.skewX,a,c),function(t,n,e,r,o,u){if(t!==e||n!==r){var a=o.push(i(o)+"scale(",null,",",null,")");u.push({i:a-4,x:Ie(t,e)},{i:a-2,x:Ie(n,r)})}else 1===e&&1===r||o.push(i(o)+"scale("+e+","+r+")")}(o.scaleX,o.scaleY,u.scaleX,u.scaleY,a,c),o=u=null,function(t){for(var n,e=-1,r=c.length;++e<r;)a[(n=c[e]).i]=n.x(t);return a.join("")}}}var Tr=Er((function(t){return"none"===t?Ar:(mr||(mr=document.createElement("DIV"),wr=document.documentElement,xr=document.defaultView),mr.style.transform=t,t=xr.getComputedStyle(wr.appendChild(mr),null).getPropertyValue("transform"),wr.removeChild(mr),t=t.slice(7,-1).split(","),Nr(+t[0],+t[1],+t[2],+t[3],+t[4],+t[5]))}),"px, ","px)","deg)"),Sr=Er((function(t){return null==t?Ar:(br||(br=document.createElementNS("http://www.w3.org/2000/svg","g")),br.setAttribute("transform",t),(t=br.transform.baseVal.consolidate())?(t=t.matrix,Nr(t.a,t.b,t.c,t.d,t.e,t.f)):Ar)}),", ",")",")");function Cr(t,n,e){var r=t._id;return t.each((function(){var t=yr(this,r);(t.value||(t.value={}))[n]=e.apply(this,arguments)})),function(t){return _r(t,r).value[n]}}var Dr=function(t,n){var e;return("number"==typeof n?Ie:n instanceof we?qe:(e=we(n))?(n=e,qe):Be)(t,n)},Pr=Kn.prototype.constructor;function Lr(t){return function(){this.style.removeProperty(t)}}var Or=0;function Ur(t,n,e,r){this._groups=t,this._parents=n,this._name=e,this._id=r}function zr(){return++Or}var qr=Kn.prototype;Ur.prototype=function(t){return Kn().transition(t)}.prototype={constructor:Ur,select:function(t){var n=this._name,e=this._id;"function"!=typeof t&&(t=pn(t));for(var r=this._groups,i=r.length,o=new Array(i),u=0;u<i;++u)for(var a,c,s=r[u],f=s.length,l=o[u]=new Array(f),h=0;h<f;++h)(a=s[h])&&(c=t.call(a,a.__data__,h,s))&&("__data__"in a&&(c.__data__=a.__data__),l[h]=c,gr(l[h],n,e,h,l,_r(a,e)));return new Ur(o,this._parents,n,e)},selectAll:function(t){var n=this._name,e=this._id;"function"!=typeof t&&(t=vn(t));for(var r=this._groups,i=r.length,o=[],u=[],a=0;a<i;++a)for(var c,s=r[a],f=s.length,l=0;l<f;++l)if(c=s[l]){for(var h,d=t.call(c,c.__data__,l,s),p=_r(c,e),g=0,v=d.length;g<v;++g)(h=d[g])&&gr(h,n,e,g,d,p);o.push(d),u.push(c)}return new Ur(o,u,n,e)},filter:function(t){"function"!=typeof t&&(t=yn(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var o,u=n[i],a=u.length,c=r[i]=[],s=0;s<a;++s)(o=u[s])&&t.call(o,o.__data__,s,u)&&c.push(o);return new Ur(r,this._parents,this._name,this._id)},merge:function(t){if(t._id!==this._id)throw new Error;for(var n=this._groups,e=t._groups,r=n.length,i=e.length,o=Math.min(r,i),u=new Array(r),a=0;a<o;++a)for(var c,s=n[a],f=e[a],l=s.length,h=u[a]=new Array(l),d=0;d<l;++d)(c=s[d]||f[d])&&(h[d]=c);for(;a<r;++a)u[a]=n[a];return new Ur(u,this._parents,this._name,this._id)},selection:function(){return new Pr(this._groups,this._parents)},transition:function(){for(var t=this._name,n=this._id,e=zr(),r=this._groups,i=r.length,o=0;o<i;++o)for(var u,a=r[o],c=a.length,s=0;s<c;++s)if(u=a[s]){var f=_r(u,n);gr(u,t,e,s,a,{time:f.time+f.delay+f.duration,delay:0,duration:f.duration,ease:f.ease})}return new Ur(r,this._parents,t,e)},call:qr.call,nodes:qr.nodes,node:qr.node,size:qr.size,empty:qr.empty,each:qr.each,on:function(t,n){var e=this._id;return arguments.length<2?_r(this.node(),e).on.on(t):this.each(function(t,n,e){var r,i,o=function(t){return(t+"").trim().split(/^|\s+/).every((function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||"start"===t}))}(n)?vr:yr;return function(){var u=o(this,t),a=u.on;a!==r&&(i=(r=a).copy()).on(n,e),u.on=i}}(e,t,n))},attr:function(t,n){var e=An(t),r="transform"===e?Sr:Dr;return this.attrTween(t,"function"==typeof n?(e.local?function(t,n,e){var r,i,o;return function(){var u,a,c=e(this);if(null!=c)return(u=this.getAttributeNS(t.space,t.local))===(a=c+"")?null:u===r&&a===i?o:(i=a,o=n(r=u,c));this.removeAttributeNS(t.space,t.local)}}:function(t,n,e){var r,i,o;return function(){var u,a,c=e(this);if(null!=c)return(u=this.getAttribute(t))===(a=c+"")?null:u===r&&a===i?o:(i=a,o=n(r=u,c));this.removeAttribute(t)}})(e,r,Cr(this,"attr."+t,n)):null==n?(e.local?function(t){return function(){this.removeAttributeNS(t.space,t.local)}}:function(t){return function(){this.removeAttribute(t)}})(e):(e.local?function(t,n,e){var r,i,o=e+"";return function(){var u=this.getAttributeNS(t.space,t.local);return u===o?null:u===r?i:i=n(r=u,e)}}:function(t,n,e){var r,i,o=e+"";return function(){var u=this.getAttribute(t);return u===o?null:u===r?i:i=n(r=u,e)}})(e,r,n))},attrTween:function(t,n){var e="attr."+t;if(arguments.length<2)return(e=this.tween(e))&&e._value;if(null==n)return this.tween(e,null);if("function"!=typeof n)throw new Error;var r=An(t);return this.tween(e,(r.local?function(t,n){var e,r;function i(){var i=n.apply(this,arguments);return i!==r&&(e=(r=i)&&function(t,n){return function(e){this.setAttributeNS(t.space,t.local,n.call(this,e))}}(t,i)),e}return i._value=n,i}:function(t,n){var e,r;function i(){var i=n.apply(this,arguments);return i!==r&&(e=(r=i)&&function(t,n){return function(e){this.setAttribute(t,n.call(this,e))}}(t,i)),e}return i._value=n,i})(r,n))},style:function(t,n,e){var r="transform"==(t+="")?Tr:Dr;return null==n?this.styleTween(t,function(t,n){var e,r,i;return function(){var o=En(this,t),u=(this.style.removeProperty(t),En(this,t));return o===u?null:o===e&&u===r?i:i=n(e=o,r=u)}}(t,r)).on("end.style."+t,Lr(t)):"function"==typeof n?this.styleTween(t,function(t,n,e){var r,i,o;return function(){var u=En(this,t),a=e(this),c=a+"";return null==a&&(this.style.removeProperty(t),c=a=En(this,t)),u===c?null:u===r&&c===i?o:(i=c,o=n(r=u,a))}}(t,r,Cr(this,"style."+t,n))).each(function(t,n){var e,r,i,o,u="style."+n,a="end."+u;return function(){var c=yr(this,t),s=c.on,f=null==c.value[u]?o||(o=Lr(n)):void 0;s===e&&i===f||(r=(e=s).copy()).on(a,i=f),c.on=r}}(this._id,t)):this.styleTween(t,function(t,n,e){var r,i,o=e+"";return function(){var u=En(this,t);return u===o?null:u===r?i:i=n(r=u,e)}}(t,r,n),e).on("end.style."+t,null)},styleTween:function(t,n,e){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==n)return this.tween(r,null);if("function"!=typeof n)throw new Error;return this.tween(r,function(t,n,e){var r,i;function o(){var o=n.apply(this,arguments);return o!==i&&(r=(i=o)&&function(t,n,e){return function(r){this.style.setProperty(t,n.call(this,r),e)}}(t,o,e)),r}return o._value=n,o}(t,n,null==e?"":e))},text:function(t){return this.tween("text","function"==typeof t?function(t){return function(){var n=t(this);this.textContent=null==n?"":n}}(Cr(this,"text",t)):function(t){return function(){this.textContent=t}}(null==t?"":t+""))},textTween:function(t){var n="text";if(arguments.length<1)return(n=this.tween(n))&&n._value;if(null==t)return this.tween(n,null);if("function"!=typeof t)throw new Error;return this.tween(n,function(t){var n,e;function r(){var r=t.apply(this,arguments);return r!==e&&(n=(e=r)&&function(t){return function(n){this.textContent=t.call(this,n)}}(r)),n}return r._value=t,r}(t))},remove:function(){return this.on("end.remove",function(t){return function(){var n=this.parentNode;for(var e in this.__transition)if(+e!==t)return;n&&n.removeChild(this)}}(this._id))},tween:function(t,n){var e=this._id;if(t+="",arguments.length<2){for(var r,i=_r(this.node(),e).tween,o=0,u=i.length;o<u;++o)if((r=i[o]).name===t)return r.value;return null}return this.each((null==n?function(t,n){var e,r;return function(){var i=yr(this,t),o=i.tween;if(o!==e)for(var u=0,a=(r=e=o).length;u<a;++u)if(r[u].name===n){(r=r.slice()).splice(u,1);break}i.tween=r}}:function(t,n,e){var r,i;if("function"!=typeof e)throw new Error;return function(){var o=yr(this,t),u=o.tween;if(u!==r){i=(r=u).slice();for(var a={name:n,value:e},c=0,s=i.length;c<s;++c)if(i[c].name===n){i[c]=a;break}c===s&&i.push(a)}o.tween=i}})(e,t,n))},delay:function(t){var n=this._id;return arguments.length?this.each(("function"==typeof t?function(t,n){return function(){vr(this,t).delay=+n.apply(this,arguments)}}:function(t,n){return n=+n,function(){vr(this,t).delay=n}})(n,t)):_r(this.node(),n).delay},duration:function(t){var n=this._id;return arguments.length?this.each(("function"==typeof t?function(t,n){return function(){yr(this,t).duration=+n.apply(this,arguments)}}:function(t,n){return n=+n,function(){yr(this,t).duration=n}})(n,t)):_r(this.node(),n).duration},ease:function(t){var n=this._id;return arguments.length?this.each(function(t,n){if("function"!=typeof n)throw new Error;return function(){yr(this,t).ease=n}}(n,t)):_r(this.node(),n).ease},end:function(){var t,n,e=this,r=e._id,i=e.size();return new Promise((function(o,u){var a={value:u},c={value:function(){0==--i&&o()}};e.each((function(){var e=yr(this,r),i=e.on;i!==t&&((n=(t=i).copy())._.cancel.push(a),n._.interrupt.push(a),n._.end.push(c)),e.on=n}))}))}};var Rr={time:null,delay:0,duration:250,ease:function(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}};function $r(t,n){for(var e;!(e=t.__transition)||!(e=e[n]);)if(!(t=t.parentNode))return Rr.time=or(),Rr;return e}Kn.prototype.interrupt=function(t){return this.each((function(){Mr(this,t)}))},Kn.prototype.transition=function(t){var n,e;t instanceof Ur?(n=t._id,t=t._name):(n=zr(),(e=Rr).time=or(),t=null==t?null:t+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var u,a=r[o],c=a.length,s=0;s<c;++s)(u=a[s])&&gr(u,t,n,s,a,e||$r(u,n));return new Ur(r,this._parents,t,n)};var Fr=function(t){return function(){return t}},Hr=function(t,n,e){this.target=t,this.type=n,this.selection=e};function Yr(){In.stopImmediatePropagation()}var Ir=function(){In.preventDefault(),In.stopImmediatePropagation()},jr={name:"drag"},Xr={name:"space"},Br={name:"handle"},Vr={name:"center"},Gr={name:"x",handles:["e","w"].map(ei),input:function(t,n){return t&&[[t[0],n[0][1]],[t[1],n[1][1]]]},output:function(t){return t&&[t[0][0],t[1][0]]}},Wr={name:"y",handles:["n","s"].map(ei),input:function(t,n){return t&&[[n[0][0],t[0]],[n[1][0],t[1]]]},output:function(t){return t&&[t[0][1],t[1][1]]}},Zr={name:"xy",handles:["n","e","s","w","nw","ne","se","sw"].map(ei),input:function(t){return t},output:function(t){return t}},Jr={overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},Qr={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},Kr={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},ti={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},ni={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1};function ei(t){return{type:t}}function ri(){return!In.button}function ii(){var t=this.ownerSVGElement||this;return[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]}function oi(t){for(;!t.__brush;)if(!(t=t.parentNode))return;return t.__brush}function ui(t){return t[0][0]===t[1][0]||t[0][1]===t[1][1]}function ai(t){var n=t.__brush;return n?n.dim.output(n.selection):null}function ci(){return li(Gr)}function si(){return li(Wr)}var fi=function(){return li(Zr)};function li(t){var n,e=ii,r=ri,i=hn(u,"start","brush","end"),o=6;function u(n){var e=n.property("__brush",l).selectAll(".overlay").data([ei("overlay")]);e.enter().append("rect").attr("class","overlay").attr("pointer-events","all").attr("cursor",Jr.overlay).merge(e).each((function(){var t=oi(this).extent;te(this).attr("x",t[0][0]).attr("y",t[0][1]).attr("width",t[1][0]-t[0][0]).attr("height",t[1][1]-t[0][1])})),n.selectAll(".selection").data([ei("selection")]).enter().append("rect").attr("class","selection").attr("cursor",Jr.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");var r=n.selectAll(".handle").data(t.handles,(function(t){return t.type}));r.exit().remove(),r.enter().append("rect").attr("class",(function(t){return"handle handle--"+t.type})).attr("cursor",(function(t){return Jr[t.type]})),n.each(a).attr("fill","none").attr("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush touchstart.brush",f)}function a(){var t=te(this),n=oi(this).selection;n?(t.selectAll(".selection").style("display",null).attr("x",n[0][0]).attr("y",n[0][1]).attr("width",n[1][0]-n[0][0]).attr("height",n[1][1]-n[0][1]),t.selectAll(".handle").style("display",null).attr("x",(function(t){return"e"===t.type[t.type.length-1]?n[1][0]-o/2:n[0][0]-o/2})).attr("y",(function(t){return"s"===t.type[0]?n[1][1]-o/2:n[0][1]-o/2})).attr("width",(function(t){return"n"===t.type||"s"===t.type?n[1][0]-n[0][0]+o:o})).attr("height",(function(t){return"e"===t.type||"w"===t.type?n[1][1]-n[0][1]+o:o}))):t.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function c(t,n){return t.__brush.emitter||new s(t,n)}function s(t,n){this.that=t,this.args=n,this.state=t.__brush,this.active=0}function f(){if(In.touches){if(In.changedTouches.length<In.touches.length)return Ir()}else if(n)return;if(r.apply(this,arguments)){var e,i,o,u,s,f,l,h,d,p,g,v,y,_=this,m=In.target.__data__.type,w="selection"===(In.metaKey?m="overlay":m)?jr:In.altKey?Vr:Br,x=t===Wr?null:ti[m],b=t===Gr?null:ni[m],M=oi(_),k=M.extent,A=M.selection,N=k[0][0],E=k[0][1],T=k[1][0],S=k[1][1],C=x&&b&&In.shiftKey,D=Ze(_),P=D,L=c(_,arguments).beforestart();"overlay"===m?M.selection=A=[[e=t===Wr?N:D[0],o=t===Gr?E:D[1]],[s=t===Wr?T:e,l=t===Gr?S:o]]:(e=A[0][0],o=A[0][1],s=A[1][0],l=A[1][1]),i=e,u=o,f=s,h=l;var O=te(_).attr("pointer-events","none"),U=O.selectAll(".overlay").attr("cursor",Jr[m]);if(In.touches)O.on("touchmove.brush",q,!0).on("touchend.brush touchcancel.brush",$,!0);else{var z=te(In.view).on("keydown.brush",(function(){switch(In.keyCode){case 16:C=x&&b;break;case 18:w===Br&&(x&&(s=f-d*x,e=i+d*x),b&&(l=h-p*b,o=u+p*b),w=Vr,R());break;case 32:w!==Br&&w!==Vr||(x<0?s=f-d:x>0&&(e=i-d),b<0?l=h-p:b>0&&(o=u-p),w=Xr,U.attr("cursor",Jr.selection),R());break;default:return}Ir()}),!0).on("keyup.brush",(function(){switch(In.keyCode){case 16:C&&(v=y=C=!1,R());break;case 18:w===Vr&&(x<0?s=f:x>0&&(e=i),b<0?l=h:b>0&&(o=u),w=Br,R());break;case 32:w===Xr&&(In.altKey?(x&&(s=f-d*x,e=i+d*x),b&&(l=h-p*b,o=u+p*b),w=Vr):(x<0?s=f:x>0&&(e=i),b<0?l=h:b>0&&(o=u),w=Br),U.attr("cursor",Jr[m]),R());break;default:return}Ir()}),!0).on("mousemove.brush",q,!0).on("mouseup.brush",$,!0);ee(In.view)}Yr(),Mr(_),a.call(_),L.start()}function q(){var t=Ze(_);!C||v||y||(Math.abs(t[0]-P[0])>Math.abs(t[1]-P[1])?y=!0:v=!0),P=t,g=!0,Ir(),R()}function R(){var t;switch(d=P[0]-D[0],p=P[1]-D[1],w){case Xr:case jr:x&&(d=Math.max(N-e,Math.min(T-s,d)),i=e+d,f=s+d),b&&(p=Math.max(E-o,Math.min(S-l,p)),u=o+p,h=l+p);break;case Br:x<0?(d=Math.max(N-e,Math.min(T-e,d)),i=e+d,f=s):x>0&&(d=Math.max(N-s,Math.min(T-s,d)),i=e,f=s+d),b<0?(p=Math.max(E-o,Math.min(S-o,p)),u=o+p,h=l):b>0&&(p=Math.max(E-l,Math.min(S-l,p)),u=o,h=l+p);break;case Vr:x&&(i=Math.max(N,Math.min(T,e-d*x)),f=Math.max(N,Math.min(T,s+d*x))),b&&(u=Math.max(E,Math.min(S,o-p*b)),h=Math.max(E,Math.min(S,l+p*b)))}f<i&&(x*=-1,t=e,e=s,s=t,t=i,i=f,f=t,m in Qr&&U.attr("cursor",Jr[m=Qr[m]])),h<u&&(b*=-1,t=o,o=l,l=t,t=u,u=h,h=t,m in Kr&&U.attr("cursor",Jr[m=Kr[m]])),M.selection&&(A=M.selection),v&&(i=A[0][0],f=A[1][0]),y&&(u=A[0][1],h=A[1][1]),A[0][0]===i&&A[0][1]===u&&A[1][0]===f&&A[1][1]===h||(M.selection=[[i,u],[f,h]],a.call(_),L.brush())}function $(){if(Yr(),In.touches){if(In.touches.length)return;n&&clearTimeout(n),n=setTimeout((function(){n=null}),500),O.on("touchmove.brush touchend.brush touchcancel.brush",null)}else re(In.view,g),z.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);O.attr("pointer-events","all"),U.attr("cursor",Jr.overlay),M.selection&&(A=M.selection),ui(A)&&(M.selection=null,a.call(_)),L.end()}}function l(){var n=this.__brush||{selection:null};return n.extent=e.apply(this,arguments),n.dim=t,n}return u.move=function(n,e){n.selection?n.on("start.brush",(function(){c(this,arguments).beforestart().start()})).on("interrupt.brush end.brush",(function(){c(this,arguments).end()})).tween("brush",(function(){var n=this,r=n.__brush,i=c(n,arguments),o=r.selection,u=t.input("function"==typeof e?e.apply(this,arguments):e,r.extent),s=Ve(o,u);function f(t){r.selection=1===t&&ui(u)?null:s(t),a.call(n),i.brush()}return o&&u?f:f(1)})):n.each((function(){var n=arguments,r=this.__brush,i=t.input("function"==typeof e?e.apply(this,n):e,r.extent),o=c(this,n).beforestart();Mr(this),r.selection=null==i||ui(i)?null:i,a.call(this),o.start().brush().end()}))},s.prototype={beforestart:function(){return 1==++this.active&&(this.state.emitter=this,this.starting=!0),this},start:function(){return this.starting&&(this.starting=!1,this.emit("start")),this},brush:function(){return this.emit("brush"),this},end:function(){return 0==--this.active&&(delete this.state.emitter,this.emit("end")),this},emit:function(n){Gn(new Hr(u,n,t.output(this.state.selection)),i.apply,i,[n,this.that,this.args])}},u.extent=function(t){return arguments.length?(e="function"==typeof t?t:Fr([[+t[0][0],+t[0][1]],[+t[1][0],+t[1][1]]]),u):e},u.filter=function(t){return arguments.length?(r="function"==typeof t?t:Fr(!!t),u):r},u.handleSize=function(t){return arguments.length?(o=+t,u):o},u.on=function(){var t=i.on.apply(i,arguments);return t===i?u:t},u}var hi=Math.cos,di=Math.sin,pi=Math.PI,gi=pi/2,vi=2*pi,yi=Math.max,_i=function(){var t=0,n=null,e=null,r=null;function i(i){var o,u,a,c,s,f,h=i.length,d=[],p=l(h),g=[],v=[],y=v.groups=new Array(h),_=new Array(h*h);for(o=0,s=-1;++s<h;){for(u=0,f=-1;++f<h;)u+=i[s][f];d.push(u),g.push(l(h)),o+=u}for(n&&p.sort((function(t,e){return n(d[t],d[e])})),e&&g.forEach((function(t,n){t.sort((function(t,r){return e(i[n][t],i[n][r])}))})),c=(o=yi(0,vi-t*h)/o)?t:vi/h,u=0,s=-1;++s<h;){for(a=u,f=-1;++f<h;){var m=p[s],w=g[m][f],x=i[m][w],b=u,M=u+=x*o;_[w*h+m]={index:m,subindex:w,startAngle:b,endAngle:M,value:x}}y[m]={index:m,startAngle:a,endAngle:u,value:d[m]},u+=c}for(s=-1;++s<h;)for(f=s-1;++f<h;){var k=_[f*h+s],A=_[s*h+f];(k.value||A.value)&&v.push(k.value<A.value?{source:A,target:k}:{source:k,target:A})}return r?v.sort(r):v}return i.padAngle=function(n){return arguments.length?(t=yi(0,n),i):t},i.sortGroups=function(t){return arguments.length?(n=t,i):n},i.sortSubgroups=function(t){return arguments.length?(e=t,i):e},i.sortChords=function(t){return arguments.length?(null==t?r=null:(r=function(t){return function(n,e){return t(n.source.value+n.target.value,e.source.value+e.target.value)}}(t))._=t,i):r&&r._},i},mi=Array.prototype.slice,wi=function(t){return function(){return t}};function xi(t){return t.source}function bi(t){return t.target}function Mi(t){return t.radius}function ki(t){return t.startAngle}function Ai(t){return t.endAngle}var Ni=function(){var t=xi,n=bi,e=Mi,r=ki,i=Ai,o=null;function u(){var u,a=mi.call(arguments),c=t.apply(this,a),s=n.apply(this,a),f=+e.apply(this,(a[0]=c,a)),l=r.apply(this,a)-gi,h=i.apply(this,a)-gi,d=f*hi(l),p=f*di(l),g=+e.apply(this,(a[0]=s,a)),v=r.apply(this,a)-gi,y=i.apply(this,a)-gi;if(o||(o=u=W()),o.moveTo(d,p),o.arc(0,0,f,l,h),l===v&&h===y||(o.quadraticCurveTo(0,0,g*hi(v),g*di(v)),o.arc(0,0,g,v,y)),o.quadraticCurveTo(0,0,d,p),o.closePath(),u)return o=null,u+""||null}return u.radius=function(t){return arguments.length?(e="function"==typeof t?t:wi(+t),u):e},u.startAngle=function(t){return arguments.length?(r="function"==typeof t?t:wi(+t),u):r},u.endAngle=function(t){return arguments.length?(i="function"==typeof t?t:wi(+t),u):i},u.source=function(n){return arguments.length?(t=n,u):t},u.target=function(t){return arguments.length?(n=t,u):n},u.context=function(t){return arguments.length?(o=null==t?null:t,u):o},u};function Ei(){}function Ti(t,n){var e=new Ei;if(t instanceof Ei)t.each((function(t,n){e.set(n,t)}));else if(Array.isArray(t)){var r,i=-1,o=t.length;if(null==n)for(;++i<o;)e.set(i,t[i]);else for(;++i<o;)e.set(n(r=t[i],i,t),r)}else if(t)for(var u in t)e.set(u,t[u]);return e}Ei.prototype=Ti.prototype={constructor:Ei,has:function(t){return"$"+t in this},get:function(t){return this["$"+t]},set:function(t,n){return this["$"+t]=n,this},remove:function(t){var n="$"+t;return n in this&&delete this[n]},clear:function(){for(var t in this)"$"===t[0]&&delete this[t]},keys:function(){var t=[];for(var n in this)"$"===n[0]&&t.push(n.slice(1));return t},values:function(){var t=[];for(var n in this)"$"===n[0]&&t.push(this[n]);return t},entries:function(){var t=[];for(var n in this)"$"===n[0]&&t.push({key:n.slice(1),value:this[n]});return t},size:function(){var t=0;for(var n in this)"$"===n[0]&&++t;return t},empty:function(){for(var t in this)if("$"===t[0])return!1;return!0},each:function(t){for(var n in this)"$"===n[0]&&t(this[n],n.slice(1),this)}};var Si=Ti,Ci=function(){var t,n,e,r=[],i=[];function o(e,i,u,a){if(i>=r.length)return null!=t&&e.sort(t),null!=n?n(e):e;for(var c,s,f,l=-1,h=e.length,d=r[i++],p=Si(),g=u();++l<h;)(f=p.get(c=d(s=e[l])+""))?f.push(s):p.set(c,[s]);return p.each((function(t,n){a(g,n,o(t,i,u,a))})),g}return e={object:function(t){return o(t,0,Di,Pi)},map:function(t){return o(t,0,Li,Oi)},entries:function(t){return function t(e,o){if(++o>r.length)return e;var u,a=i[o-1];return null!=n&&o>=r.length?u=e.entries():(u=[],e.each((function(n,e){u.push({key:e,values:t(n,o)})}))),null!=a?u.sort((function(t,n){return a(t.key,n.key)})):u}(o(t,0,Li,Oi),0)},key:function(t){return r.push(t),e},sortKeys:function(t){return i[r.length-1]=t,e},sortValues:function(n){return t=n,e},rollup:function(t){return n=t,e}}};function Di(){return{}}function Pi(t,n,e){t[n]=e}function Li(){return Si()}function Oi(t,n,e){t.set(n,e)}function Ui(){}var zi=Si.prototype;function qi(t,n){var e=new Ui;if(t instanceof Ui)t.each((function(t){e.add(t)}));else if(t){var r=-1,i=t.length;if(null==n)for(;++r<i;)e.add(t[r]);else for(;++r<i;)e.add(n(t[r],r,t))}return e}Ui.prototype=qi.prototype={constructor:Ui,has:zi.has,add:function(t){return this["$"+(t+="")]=t,this},remove:zi.remove,clear:zi.clear,values:zi.keys,size:zi.size,empty:zi.empty,each:zi.each};var Ri=qi,$i=function(t){var n=[];for(var e in t)n.push(e);return n},Fi=function(t){var n=[];for(var e in t)n.push(t[e]);return n},Hi=function(t){var n=[];for(var e in t)n.push({key:e,value:t[e]});return n},Yi=function(t,n,e){t.prototype=n.prototype=e,e.constructor=t};function Ii(t,n){var e=Object.create(t.prototype);for(var r in n)e[r]=n[r];return e}function ji(){}var Xi="\\s*([+-]?\\d+)\\s*",Bi="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",Vi="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Gi=/^#([0-9a-f]{3})$/,Wi=/^#([0-9a-f]{6})$/,Zi=new RegExp("^rgb\\("+[Xi,Xi,Xi]+"\\)$"),Ji=new RegExp("^rgb\\("+[Vi,Vi,Vi]+"\\)$"),Qi=new RegExp("^rgba\\("+[Xi,Xi,Xi,Bi]+"\\)$"),Ki=new RegExp("^rgba\\("+[Vi,Vi,Vi,Bi]+"\\)$"),to=new RegExp("^hsl\\("+[Bi,Vi,Vi]+"\\)$"),no=new RegExp("^hsla\\("+[Bi,Vi,Vi,Bi]+"\\)$"),eo={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function ro(t){var n;return t=(t+"").trim().toLowerCase(),(n=Gi.exec(t))?new co((n=parseInt(n[1],16))>>8&15|n>>4&240,n>>4&15|240&n,(15&n)<<4|15&n,1):(n=Wi.exec(t))?io(parseInt(n[1],16)):(n=Zi.exec(t))?new co(n[1],n[2],n[3],1):(n=Ji.exec(t))?new co(255*n[1]/100,255*n[2]/100,255*n[3]/100,1):(n=Qi.exec(t))?oo(n[1],n[2],n[3],n[4]):(n=Ki.exec(t))?oo(255*n[1]/100,255*n[2]/100,255*n[3]/100,n[4]):(n=to.exec(t))?so(n[1],n[2]/100,n[3]/100,1):(n=no.exec(t))?so(n[1],n[2]/100,n[3]/100,n[4]):eo.hasOwnProperty(t)?io(eo[t]):"transparent"===t?new co(NaN,NaN,NaN,0):null}function io(t){return new co(t>>16&255,t>>8&255,255&t,1)}function oo(t,n,e,r){return r<=0&&(t=n=e=NaN),new co(t,n,e,r)}function uo(t){return t instanceof ji||(t=ro(t)),t?new co((t=t.rgb()).r,t.g,t.b,t.opacity):new co}function ao(t,n,e,r){return 1===arguments.length?uo(t):new co(t,n,e,null==r?1:r)}function co(t,n,e,r){this.r=+t,this.g=+n,this.b=+e,this.opacity=+r}function so(t,n,e,r){return r<=0?t=n=e=NaN:e<=0||e>=1?t=n=NaN:n<=0&&(t=NaN),new lo(t,n,e,r)}function fo(t,n,e,r){return 1===arguments.length?function(t){if(t instanceof lo)return new lo(t.h,t.s,t.l,t.opacity);if(t instanceof ji||(t=ro(t)),!t)return new lo;if(t instanceof lo)return t;var n=(t=t.rgb()).r/255,e=t.g/255,r=t.b/255,i=Math.min(n,e,r),o=Math.max(n,e,r),u=NaN,a=o-i,c=(o+i)/2;return a?(u=n===o?(e-r)/a+6*(e<r):e===o?(r-n)/a+2:(n-e)/a+4,a/=c<.5?o+i:2-o-i,u*=60):a=c>0&&c<1?0:u,new lo(u,a,c,t.opacity)}(t):new lo(t,n,e,null==r?1:r)}function lo(t,n,e,r){this.h=+t,this.s=+n,this.l=+e,this.opacity=+r}function ho(t,n,e){return 255*(t<60?n+(e-n)*t/60:t<180?e:t<240?n+(e-n)*(240-t)/60:n)}Yi(ji,ro,{displayable:function(){return this.rgb().displayable()},toString:function(){return this.rgb()+""}}),Yi(co,ao,Ii(ji,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new co(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new co(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return 0<=this.r&&this.r<=255&&0<=this.g&&this.g<=255&&0<=this.b&&this.b<=255&&0<=this.opacity&&this.opacity<=1},toString:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}})),Yi(lo,fo,Ii(ji,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new lo(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new lo(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),n=isNaN(t)||isNaN(this.s)?0:this.s,e=this.l,r=e+(e<.5?e:1-e)*n,i=2*e-r;return new co(ho(t>=240?t-240:t+120,i,r),ho(t,i,r),ho(t<120?t+240:t-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1}}));var po=Math.PI/180,go=180/Math.PI,vo=6/29,yo=3*vo*vo;function _o(t){if(t instanceof wo)return new wo(t.l,t.a,t.b,t.opacity);if(t instanceof No){var n=t.h*po;return new wo(t.l,Math.cos(n)*t.c,Math.sin(n)*t.c,t.opacity)}t instanceof co||(t=uo(t));var e=ko(t.r),r=ko(t.g),i=ko(t.b),o=xo((.4124564*e+.3575761*r+.1804375*i)/.95047),u=xo((.2126729*e+.7151522*r+.072175*i)/1);return new wo(116*u-16,500*(o-u),200*(u-xo((.0193339*e+.119192*r+.9503041*i)/1.08883)),t.opacity)}function mo(t,n,e,r){return 1===arguments.length?_o(t):new wo(t,n,e,null==r?1:r)}function wo(t,n,e,r){this.l=+t,this.a=+n,this.b=+e,this.opacity=+r}function xo(t){return t>.008856451679035631?Math.pow(t,1/3):t/yo+4/29}function bo(t){return t>vo?t*t*t:yo*(t-4/29)}function Mo(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function ko(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function Ao(t,n,e,r){return 1===arguments.length?function(t){if(t instanceof No)return new No(t.h,t.c,t.l,t.opacity);t instanceof wo||(t=_o(t));var n=Math.atan2(t.b,t.a)*go;return new No(n<0?n+360:n,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}(t):new No(t,n,e,null==r?1:r)}function No(t,n,e,r){this.h=+t,this.c=+n,this.l=+e,this.opacity=+r}Yi(wo,mo,Ii(ji,{brighter:function(t){return new wo(this.l+18*(null==t?1:t),this.a,this.b,this.opacity)},darker:function(t){return new wo(this.l-18*(null==t?1:t),this.a,this.b,this.opacity)},rgb:function(){var t=(this.l+16)/116,n=isNaN(this.a)?t:t+this.a/500,e=isNaN(this.b)?t:t-this.b/200;return t=1*bo(t),new co(Mo(3.2404542*(n=.95047*bo(n))-1.5371385*t-.4985314*(e=1.08883*bo(e))),Mo(-.969266*n+1.8760108*t+.041556*e),Mo(.0556434*n-.2040259*t+1.0572252*e),this.opacity)}})),Yi(No,Ao,Ii(ji,{brighter:function(t){return new No(this.h,this.c,this.l+18*(null==t?1:t),this.opacity)},darker:function(t){return new No(this.h,this.c,this.l-18*(null==t?1:t),this.opacity)},rgb:function(){return _o(this).rgb()}}));var Eo=-.29227,To=-.90649,So=1.97294,Co=So*To,Do=1.78277*So,Po=-.6557636667999999;function Lo(t,n,e,r){return 1===arguments.length?function(t){if(t instanceof Oo)return new Oo(t.h,t.s,t.l,t.opacity);t instanceof co||(t=uo(t));var n=t.r/255,e=t.g/255,r=t.b/255,i=(Po*r+Co*n-Do*e)/(Po+Co-Do),o=r-i,u=(So*(e-i)-Eo*o)/To,a=Math.sqrt(u*u+o*o)/(So*i*(1-i)),c=a?Math.atan2(u,o)*go-120:NaN;return new Oo(c<0?c+360:c,a,i,t.opacity)}(t):new Oo(t,n,e,null==r?1:r)}function Oo(t,n,e,r){this.h=+t,this.s=+n,this.l=+e,this.opacity=+r}Yi(Oo,Lo,Ii(ji,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new Oo(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new Oo(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=isNaN(this.h)?0:(this.h+120)*po,n=+this.l,e=isNaN(this.s)?0:this.s*n*(1-n),r=Math.cos(t),i=Math.sin(t);return new co(255*(n+e*(-.14861*r+1.78277*i)),255*(n+e*(Eo*r+To*i)),255*(n+e*(So*r)),this.opacity)}}));var Uo={value:function(){}};function zo(){for(var t,n=0,e=arguments.length,r={};n<e;++n){if(!(t=arguments[n]+"")||t in r)throw new Error("illegal type: "+t);r[t]=[]}return new qo(r)}function qo(t){this._=t}function Ro(t,n){for(var e,r=0,i=t.length;r<i;++r)if((e=t[r]).name===n)return e.value}function $o(t,n,e){for(var r=0,i=t.length;r<i;++r)if(t[r].name===n){t[r]=Uo,t=t.slice(0,r).concat(t.slice(r+1));break}return null!=e&&t.push({name:n,value:e}),t}qo.prototype=zo.prototype={constructor:qo,on:function(t,n){var e,r=this._,i=function(t,n){return t.trim().split(/^|\s+/).map((function(t){var e="",r=t.indexOf(".");if(r>=0&&(e=t.slice(r+1),t=t.slice(0,r)),t&&!n.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:e}}))}(t+"",r),o=-1,u=i.length;if(!(arguments.length<2)){if(null!=n&&"function"!=typeof n)throw new Error("invalid callback: "+n);for(;++o<u;)if(e=(t=i[o]).type)r[e]=$o(r[e],t.name,n);else if(null==n)for(e in r)r[e]=$o(r[e],t.name,null);return this}for(;++o<u;)if((e=(t=i[o]).type)&&(e=Ro(r[e],t.name)))return e},copy:function(){var t={},n=this._;for(var e in n)t[e]=n[e].slice();return new qo(t)},call:function(t,n){if((e=arguments.length-2)>0)for(var e,r,i=new Array(e),o=0;o<e;++o)i[o]=arguments[o+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=0,e=(r=this._[t]).length;o<e;++o)r[o].value.apply(n,i)},apply:function(t,n,e){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(n,e)}};var Fo=zo,Ho={value:function(){}};function Yo(){for(var t,n=0,e=arguments.length,r={};n<e;++n){if(!(t=arguments[n]+"")||t in r||/[\s.]/.test(t))throw new Error("illegal type: "+t);r[t]=[]}return new Io(r)}function Io(t){this._=t}function jo(t,n){for(var e,r=0,i=t.length;r<i;++r)if((e=t[r]).name===n)return e.value}function Xo(t,n,e){for(var r=0,i=t.length;r<i;++r)if(t[r].name===n){t[r]=Ho,t=t.slice(0,r).concat(t.slice(r+1));break}return null!=e&&t.push({name:n,value:e}),t}Io.prototype=Yo.prototype={constructor:Io,on:function(t,n){var e,r=this._,i=function(t,n){return t.trim().split(/^|\s+/).map((function(t){var e="",r=t.indexOf(".");if(r>=0&&(e=t.slice(r+1),t=t.slice(0,r)),t&&!n.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:e}}))}(t+"",r),o=-1,u=i.length;if(!(arguments.length<2)){if(null!=n&&"function"!=typeof n)throw new Error("invalid callback: "+n);for(;++o<u;)if(e=(t=i[o]).type)r[e]=Xo(r[e],t.name,n);else if(null==n)for(e in r)r[e]=Xo(r[e],t.name,null);return this}for(;++o<u;)if((e=(t=i[o]).type)&&(e=jo(r[e],t.name)))return e},copy:function(){var t={},n=this._;for(var e in n)t[e]=n[e].slice();return new Io(t)},call:function(t,n){if((e=arguments.length-2)>0)for(var e,r,i=new Array(e),o=0;o<e;++o)i[o]=arguments[o+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=0,e=(r=this._[t]).length;o<e;++o)r[o].value.apply(n,i)},apply:function(t,n,e){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(n,e)}};var Bo=Yo,Vo={},Go=null;function Wo(t,n,e){return t=Zo(t,n,e),function(n){var e=n.relatedTarget;e&&(e===this||8&e.compareDocumentPosition(this))||t.call(this,n)}}function Zo(t,n,e){return function(r){var i=Go;Go=r;try{t.call(this,this.__data__,n,e)}finally{Go=i}}}function Jo(t){return function(){var n=this.__on;if(n){for(var e,r=0,i=-1,o=n.length;r<o;++r)e=n[r],t.type&&e.type!==t.type||e.name!==t.name?n[++i]=e:this.removeEventListener(e.type,e.listener,e.capture);++i?n.length=i:delete this.__on}}}function Qo(t,n,e){var r=Vo.hasOwnProperty(t.type)?Wo:Zo;return function(i,o,u){var a,c=this.__on,s=r(n,o,u);if(c)for(var f=0,l=c.length;f<l;++f)if((a=c[f]).type===t.type&&a.name===t.name)return this.removeEventListener(a.type,a.listener,a.capture),this.addEventListener(a.type,a.listener=s,a.capture=e),void(a.value=n);this.addEventListener(t.type,s,e),a={type:t.type,name:t.name,value:n,listener:s,capture:e},c?c.push(a):this.__on=[a]}}function Ko(t,n,e,r){var i=Go;t.sourceEvent=Go,Go=t;try{return n.apply(e,r)}finally{Go=i}}"undefined"!=typeof document&&("onmouseenter"in document.documentElement||(Vo={mouseenter:"mouseover",mouseleave:"mouseout"}));var tu=function(){for(var t,n=Go;t=n.sourceEvent;)n=t;return n},nu=function(t,n){var e=t.ownerSVGElement||t;if(e.createSVGPoint){var r=e.createSVGPoint();return r.x=n.clientX,r.y=n.clientY,[(r=r.matrixTransform(t.getScreenCTM().inverse())).x,r.y]}var i=t.getBoundingClientRect();return[n.clientX-i.left-t.clientLeft,n.clientY-i.top-t.clientTop]},eu=function(t){var n=tu();return n.changedTouches&&(n=n.changedTouches[0]),nu(t,n)};function ru(){}var iu=function(t){return null==t?ru:function(){return this.querySelector(t)}};function ou(){return[]}var uu=function(t){return new Array(t.length)};function au(t,n){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=n}au.prototype={constructor:au,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,n){return this._parent.insertBefore(t,n)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function cu(t,n,e,r,i,o){for(var u,a=0,c=n.length,s=o.length;a<s;++a)(u=n[a])?(u.__data__=o[a],r[a]=u):e[a]=new au(t,o[a]);for(;a<c;++a)(u=n[a])&&(i[a]=u)}function su(t,n,e,r,i,o,u){var a,c,s,f={},l=n.length,h=o.length,d=new Array(l);for(a=0;a<l;++a)(c=n[a])&&(d[a]=s="$"+u.call(c,c.__data__,a,n),s in f?i[a]=c:f[s]=c);for(a=0;a<h;++a)(c=f[s="$"+u.call(t,o[a],a,o)])?(r[a]=c,c.__data__=o[a],f[s]=null):e[a]=new au(t,o[a]);for(a=0;a<l;++a)(c=n[a])&&f[d[a]]===c&&(i[a]=c)}function fu(t,n){return t<n?-1:t>n?1:t>=n?0:NaN}var lu="http://www.w3.org/1999/xhtml",hu={svg:"http://www.w3.org/2000/svg",xhtml:lu,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},du=function(t){var n=t+="",e=n.indexOf(":");return e>=0&&"xmlns"!==(n=t.slice(0,e))&&(t=t.slice(e+1)),hu.hasOwnProperty(n)?{space:hu[n],local:t}:t},pu=function(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView};function gu(t){return t.trim().split(/^|\s+/)}function vu(t){return t.classList||new yu(t)}function yu(t){this._node=t,this._names=gu(t.getAttribute("class")||"")}function _u(t,n){for(var e=vu(t),r=-1,i=n.length;++r<i;)e.add(n[r])}function mu(t,n){for(var e=vu(t),r=-1,i=n.length;++r<i;)e.remove(n[r])}function wu(){this.textContent=""}function xu(){this.innerHTML=""}function bu(){this.nextSibling&&this.parentNode.appendChild(this)}function Mu(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}yu.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var n=this._names.indexOf(t);n>=0&&(this._names.splice(n,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var ku=function(t){var n=du(t);return(n.local?function(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}:function(t){return function(){var n=this.ownerDocument,e=this.namespaceURI;return e===lu&&n.documentElement.namespaceURI===lu?n.createElement(t):n.createElementNS(e,t)}})(n)};function Au(){return null}function Nu(){var t=this.parentNode;t&&t.removeChild(this)}function Eu(){var t=this.cloneNode(!1),n=this.parentNode;return n?n.insertBefore(t,this.nextSibling):t}function Tu(){var t=this.cloneNode(!0),n=this.parentNode;return n?n.insertBefore(t,this.nextSibling):t}function Su(t,n,e){var r=pu(t),i=r.CustomEvent;"function"==typeof i?i=new i(n,e):(i=r.document.createEvent("Event"),e?(i.initEvent(n,e.bubbles,e.cancelable),i.detail=e.detail):i.initEvent(n,!1,!1)),t.dispatchEvent(i)}var Cu=[null];function Du(t,n){this._groups=t,this._parents=n}Du.prototype=function(){return new Du([[document.documentElement]],Cu)}.prototype={constructor:Du,select:function(t){"function"!=typeof t&&(t=iu(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var o,u,a=n[i],c=a.length,s=r[i]=new Array(c),f=0;f<c;++f)(o=a[f])&&(u=t.call(o,o.__data__,f,a))&&("__data__"in o&&(u.__data__=o.__data__),s[f]=u);return new Du(r,this._parents)},selectAll:function(t){"function"!=typeof t&&(t=function(t){return null==t?ou:function(){return this.querySelectorAll(t)}}(t));for(var n=this._groups,e=n.length,r=[],i=[],o=0;o<e;++o)for(var u,a=n[o],c=a.length,s=0;s<c;++s)(u=a[s])&&(r.push(t.call(u,u.__data__,s,a)),i.push(u));return new Du(r,i)},filter:function(t){"function"!=typeof t&&(t=function(t){return function(){return this.matches(t)}}(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var o,u=n[i],a=u.length,c=r[i]=[],s=0;s<a;++s)(o=u[s])&&t.call(o,o.__data__,s,u)&&c.push(o);return new Du(r,this._parents)},data:function(t,n){if(!t)return d=new Array(this.size()),s=-1,this.each((function(t){d[++s]=t})),d;var e=n?su:cu,r=this._parents,i=this._groups;"function"!=typeof t&&(t=function(t){return function(){return t}}(t));for(var o=i.length,u=new Array(o),a=new Array(o),c=new Array(o),s=0;s<o;++s){var f=r[s],l=i[s],h=l.length,d=t.call(f,f&&f.__data__,s,r),p=d.length,g=a[s]=new Array(p),v=u[s]=new Array(p);e(f,l,g,v,c[s]=new Array(h),d,n);for(var y,_,m=0,w=0;m<p;++m)if(y=g[m]){for(m>=w&&(w=m+1);!(_=v[w])&&++w<p;);y._next=_||null}}return(u=new Du(u,r))._enter=a,u._exit=c,u},enter:function(){return new Du(this._enter||this._groups.map(uu),this._parents)},exit:function(){return new Du(this._exit||this._groups.map(uu),this._parents)},join:function(t,n,e){var r=this.enter(),i=this,o=this.exit();return r="function"==typeof t?t(r):r.append(t+""),null!=n&&(i=n(i)),null==e?o.remove():e(o),r&&i?r.merge(i).order():i},merge:function(t){for(var n=this._groups,e=t._groups,r=n.length,i=e.length,o=Math.min(r,i),u=new Array(r),a=0;a<o;++a)for(var c,s=n[a],f=e[a],l=s.length,h=u[a]=new Array(l),d=0;d<l;++d)(c=s[d]||f[d])&&(h[d]=c);for(;a<r;++a)u[a]=n[a];return new Du(u,this._parents)},order:function(){for(var t=this._groups,n=-1,e=t.length;++n<e;)for(var r,i=t[n],o=i.length-1,u=i[o];--o>=0;)(r=i[o])&&(u&&4^r.compareDocumentPosition(u)&&u.parentNode.insertBefore(r,u),u=r);return this},sort:function(t){function n(n,e){return n&&e?t(n.__data__,e.__data__):!n-!e}t||(t=fu);for(var e=this._groups,r=e.length,i=new Array(r),o=0;o<r;++o){for(var u,a=e[o],c=a.length,s=i[o]=new Array(c),f=0;f<c;++f)(u=a[f])&&(s[f]=u);s.sort(n)}return new Du(i,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){var t=new Array(this.size()),n=-1;return this.each((function(){t[++n]=this})),t},node:function(){for(var t=this._groups,n=0,e=t.length;n<e;++n)for(var r=t[n],i=0,o=r.length;i<o;++i){var u=r[i];if(u)return u}return null},size:function(){var t=0;return this.each((function(){++t})),t},empty:function(){return!this.node()},each:function(t){for(var n=this._groups,e=0,r=n.length;e<r;++e)for(var i,o=n[e],u=0,a=o.length;u<a;++u)(i=o[u])&&t.call(i,i.__data__,u,o);return this},attr:function(t,n){var e=du(t);if(arguments.length<2){var r=this.node();return e.local?r.getAttributeNS(e.space,e.local):r.getAttribute(e)}return this.each((null==n?e.local?function(t){return function(){this.removeAttributeNS(t.space,t.local)}}:function(t){return function(){this.removeAttribute(t)}}:"function"==typeof n?e.local?function(t,n){return function(){var e=n.apply(this,arguments);null==e?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,e)}}:function(t,n){return function(){var e=n.apply(this,arguments);null==e?this.removeAttribute(t):this.setAttribute(t,e)}}:e.local?function(t,n){return function(){this.setAttributeNS(t.space,t.local,n)}}:function(t,n){return function(){this.setAttribute(t,n)}})(e,n))},style:function(t,n,e){return arguments.length>1?this.each((null==n?function(t){return function(){this.style.removeProperty(t)}}:"function"==typeof n?function(t,n,e){return function(){var r=n.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,e)}}:function(t,n,e){return function(){this.style.setProperty(t,n,e)}})(t,n,null==e?"":e)):function(t,n){return t.style.getPropertyValue(n)||pu(t).getComputedStyle(t,null).getPropertyValue(n)}(this.node(),t)},property:function(t,n){return arguments.length>1?this.each((null==n?function(t){return function(){delete this[t]}}:"function"==typeof n?function(t,n){return function(){var e=n.apply(this,arguments);null==e?delete this[t]:this[t]=e}}:function(t,n){return function(){this[t]=n}})(t,n)):this.node()[t]},classed:function(t,n){var e=gu(t+"");if(arguments.length<2){for(var r=vu(this.node()),i=-1,o=e.length;++i<o;)if(!r.contains(e[i]))return!1;return!0}return this.each(("function"==typeof n?function(t,n){return function(){(n.apply(this,arguments)?_u:mu)(this,t)}}:n?function(t){return function(){_u(this,t)}}:function(t){return function(){mu(this,t)}})(e,n))},text:function(t){return arguments.length?this.each(null==t?wu:("function"==typeof t?function(t){return function(){var n=t.apply(this,arguments);this.textContent=null==n?"":n}}:function(t){return function(){this.textContent=t}})(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?xu:("function"==typeof t?function(t){return function(){var n=t.apply(this,arguments);this.innerHTML=null==n?"":n}}:function(t){return function(){this.innerHTML=t}})(t)):this.node().innerHTML},raise:function(){return this.each(bu)},lower:function(){return this.each(Mu)},append:function(t){var n="function"==typeof t?t:ku(t);return this.select((function(){return this.appendChild(n.apply(this,arguments))}))},insert:function(t,n){var e="function"==typeof t?t:ku(t),r=null==n?Au:"function"==typeof n?n:iu(n);return this.select((function(){return this.insertBefore(e.apply(this,arguments),r.apply(this,arguments)||null)}))},remove:function(){return this.each(Nu)},clone:function(t){return this.select(t?Tu:Eu)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,n,e){var r,i,o=function(t){return t.trim().split(/^|\s+/).map((function(t){var n="",e=t.indexOf(".");return e>=0&&(n=t.slice(e+1),t=t.slice(0,e)),{type:t,name:n}}))}(t+""),u=o.length;if(!(arguments.length<2)){for(a=n?Qo:Jo,null==e&&(e=!1),r=0;r<u;++r)this.each(a(o[r],n,e));return this}var a=this.node().__on;if(a)for(var c,s=0,f=a.length;s<f;++s)for(r=0,c=a[s];r<u;++r)if((i=o[r]).type===c.type&&i.name===c.name)return c.value},dispatch:function(t,n){return this.each(("function"==typeof n?function(t,n){return function(){return Su(this,t,n.apply(this,arguments))}}:function(t,n){return function(){return Su(this,t,n)}})(t,n))}};var Pu=function(t){return"string"==typeof t?new Du([[document.querySelector(t)]],[document.documentElement]):new Du([[t]],Cu)},Lu=function(t,n,e){arguments.length<3&&(e=n,n=tu().changedTouches);for(var r,i=0,o=n?n.length:0;i<o;++i)if((r=n[i]).identifier===e)return nu(t,r);return null};function Ou(){Go.stopImmediatePropagation()}var Uu=function(){Go.preventDefault(),Go.stopImmediatePropagation()},zu=function(t){var n=t.document.documentElement,e=Pu(t).on("dragstart.drag",Uu,!0);"onselectstart"in n?e.on("selectstart.drag",Uu,!0):(n.__noselect=n.style.MozUserSelect,n.style.MozUserSelect="none")};function qu(t,n){var e=t.document.documentElement,r=Pu(t).on("dragstart.drag",null);n&&(r.on("click.drag",Uu,!0),setTimeout((function(){r.on("click.drag",null)}),0)),"onselectstart"in e?r.on("selectstart.drag",null):(e.style.MozUserSelect=e.__noselect,delete e.__noselect)}var Ru=function(t){return function(){return t}};function $u(t,n,e,r,i,o,u,a,c,s){this.target=t,this.type=n,this.subject=e,this.identifier=r,this.active=i,this.x=o,this.y=u,this.dx=a,this.dy=c,this._=s}function Fu(){return!Go.button}function Hu(){return this.parentNode}function Yu(t){return null==t?{x:Go.x,y:Go.y}:t}function Iu(){return"ontouchstart"in this}$u.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};var ju=function(){var t,n,e,r,i=Fu,o=Hu,u=Yu,a=Iu,c={},s=Bo("start","drag","end"),f=0,l=0;function h(t){t.on("mousedown.drag",d).filter(a).on("touchstart.drag",v).on("touchmove.drag",y).on("touchend.drag touchcancel.drag",_).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function d(){if(!r&&i.apply(this,arguments)){var u=m("mouse",o.apply(this,arguments),eu,this,arguments);u&&(Pu(Go.view).on("mousemove.drag",p,!0).on("mouseup.drag",g,!0),zu(Go.view),Ou(),e=!1,t=Go.clientX,n=Go.clientY,u("start"))}}function p(){if(Uu(),!e){var r=Go.clientX-t,i=Go.clientY-n;e=r*r+i*i>l}c.mouse("drag")}function g(){Pu(Go.view).on("mousemove.drag mouseup.drag",null),qu(Go.view,e),Uu(),c.mouse("end")}function v(){if(i.apply(this,arguments)){var t,n,e=Go.changedTouches,r=o.apply(this,arguments),u=e.length;for(t=0;t<u;++t)(n=m(e[t].identifier,r,Lu,this,arguments))&&(Ou(),n("start"))}}function y(){var t,n,e=Go.changedTouches,r=e.length;for(t=0;t<r;++t)(n=c[e[t].identifier])&&(Uu(),n("drag"))}function _(){var t,n,e=Go.changedTouches,i=e.length;for(r